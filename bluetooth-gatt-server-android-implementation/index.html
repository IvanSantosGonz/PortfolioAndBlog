<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Implementación de Bluetooth GATT Server en Android - Ivan Santos</title><meta name="gridsome:hash" content="5c016b27a73a79e88fa4c47a961625675662d228"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="description" content="Ivan Santos Portfolio and Blog"><meta data-vue-tag="ssr" name="author" content="Iván Santos"><meta data-vue-tag="ssr" data-key="description" name="description" content="Ivan Santos Portfolio and Blog"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,700"><link rel="preload" href="/assets/css/0.styles.6867928d.css" as="style"><link rel="preload" href="/assets/js/app.39627749.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.d4d3ba83.js" as="script"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.54966bf2.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.99539516.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.e58777c4.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.76f9f74d.js"><link rel="stylesheet" href="/assets/css/0.styles.6867928d.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="content-wrapper bg-background-primary font-sans text-copy-primary leading-normal flex flex-col min-h-screen"><header class="border-t-14 border-green-700"><nav class="container mx-auto flex flex-wrap justify-between items-center py-8"><div><a href="/" class="active"><img alt="logo" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 595 300' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-f7d380d38fbecb378a9c4fe1dcf9fa38'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-f7d380d38fbecb378a9c4fe1dcf9fa38)' width='595' height='300' xlink:href='data:image/svg%2bxml%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAYAAACinX6EAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEiUlEQVRo3u2XX4gXVRTHf7/5bcpWpGZamxJluuSv%2bV2kggok%2boNBZSma7m9mLTUtn8rMjJKtZXdndqkNqoe1B8mKHjIELQjKh4z%2bgD5EKGIPRUF/IDIoeoggivqeme%2bdPXN3fvtQL/twD3yYe%2b/ce%2bbcc8%2b990yt5sWLFy9evHj5r3J1sql46vJ00hqJaisnduTlJMqwEo5EM2NirbRdGEYjG7ou0kz7dZ86CKRsnEkVOlW71WnSOMhIoi7RUbxL4862lXXUrhrry52X/A/nuUpNEpfaO/VjObDvDSdRJcZx4HR2dJLm4IZpF8aWzWhebjGiwqS8oCUJs4F2wjFWMg6WPLNOD5gPNoFZ6kN1PXk8LwFrnDYY0G/1lqNnuE8i5knwMfgIjLXSaLGKJjdy8u%2blkxHnOK6ux%2bXluGH7YUHrII9QRFehXwxTkw8cpQ0%2bU/BdCKP1Ktv%2beHcB%2bACMq7ES2qXV4dawYx4Ag2At2AXOgr000H43cByBrZLptDrmgIfB%2bToCXecYNS%2bru1gUN4zxvBBsb460bfs54Ecx1Nb5XKwMa4EVavz8jtsmLZz2Mtii%2bsySsarercrnSYRVbJfXwJeqvkyV54IBcCnr14PbGUUNHU1FOIVPS/hHn8PIN5Si9eBreHYhnu8x1KV8QJSLAWAI3ryO/Y9l9TTqwfMVa7jaMva5NPtWEn0K3avVdhSHf8LJ3cW%2bL4K3W0lbnLQfNMHjZjT%2bB8%2bH2Ocw%2bAHErO9bMX6/vB9iZNyC8h%2bw8w7thJoTYjAoPsgBXWx7C0xwZaEgmg12gm3gQxr3HHheVgD8CR6RLQO%2buGz3%2bsrrTqR3aK20baEjDrDfm%2bAoeBC8C84Fv4FhbrO/m4P9slDPyqQ5Zgz8zMU5wjZx1GZwhWHUYU43oP4XuLWI%2bmxv8soxaTSOTiexZxZKffnuVfL%2bK7AajrmIht4E9oC7wXEg7d8CWfFxRkQfOAVus2eJ42g5UxY44SznwH38xsXgMwlZsBH8ykNYHLCT/U%2bDO1mWLbqSW2U/214FW50zZRdW/hvQyyioV0XBS3Iys3x55tk0mgPH3MyV2Mt3j4FDEoLgDJjHVZ/gqsmhdq0%2b1WGIDf%2bjXLEN/EZvvo0yJxzjwfg9WALeASc4Tr7T5qF7lltwLp3Rw0NVVv0F8H5LbS1%2b6yfMZREnH0w5oFTnpXzO4xaQfbkKvC6T4wl6JcpPgUVgB8NvVMZw7HZwY4f9301H/QJ%2bp2P3MFIGOPGtdM4TwHDcveAelmWyj%2bKen832IY7bSJv3SSSpOfXYurrd7NUQFYmKSftLbdlqpvl5oK%2bj6ZIV49zhThJU1yc9WF51wlfoDCpuga6Ktm46ZJnKB6bYnt9I0VSjTTnJUalxnF1hk%2b%2byG6NhU2BRJiGuJtrQesJy5ihJSaOceud3fkknt41JiyQosO2liWT5wWQqrpOjymTKnbwr4XBbZ1xZ2SAvMM5qaiddM7C5pLhTSmvfN/N/DTvRukrGqtLdivJkNhci7Q3TUp9AZ44mmSE/WF68ePHixYsXL168zBz5F/fwmf4gM7uaAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="595" data-src="/assets/static/logoPersonal.e4b7663.1b2958591d44be0bbe0c0c010cc1bdcf.svg" data-srcset="/assets/static/logoPersonal.e4b7663.1b2958591d44be0bbe0c0c010cc1bdcf.svg 595w" data-sizes="(max-width: 595px) 100vw, 595px" class="w-40 g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/logoPersonal.e4b7663.1b2958591d44be0bbe0c0c010cc1bdcf.svg" class="w-40 g-image g-image--loaded" width="595" alt="logo"></noscript></a></div><div class="block lg:hidden"><button data-cypress="hamburger" class="flex items-center px-3 py-2 border rounded border-gray-500 hover:text-gray-600 hover:border-gray-600"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="current-color h-3 w-3"><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z" fill="gray"></path></svg></button></div><ul data-cypress="menu" class="uppercase tracking-wide font-bold w-full block flex-grow lg:space-x-8 space-y-6 lg:space-y-0 lg:flex lg:flex-initial lg:w-auto items-center mt-8 lg:mt-0 hidden"><li class="mb-6 lg:mb-0"><div class="relative" data-v-2233cb42><div data-v-3ae9f24e data-v-2233cb42></div><div class="relative w-80" data-v-2233cb42><input type="text" placeholder="Search (Press  "/" to focus)" data-cypress="search" value="" class="bg-background-form border border-gray-500 rounded-full px-4 pl-10 py-2 outline-none focus:border-green-500 w-80" data-v-2233cb42><div class="absolute top-0 ml-3" style="top:10px" data-v-2233cb42><svg fill="currentColor" viewBox="0 0 24 24" width="24" height="24" class="text-gray-500 h-5 w-5" data-v-2233cb42><path d="M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" class="heroicon-ui" data-v-2233cb42></path></svg></div><!----></div><!----></div></li><li><a href="#" data-cypress="switchTheme" class="text-copy-primary hover:text-gray-600"><!----></a></li><li><a href="/#projects" class="text-copy-primary hover:text-gray-600">Projects</a></li><li><a href="/blog" data-cypress="blog" class="text-copy-primary hover:text-gray-600">Blog</a></li></ul></nav></header><main class="flex-grow"><div class="container-inner mx-auto my-16"><h1 class="text-4xl font-bold leading-tight">Implementación de Bluetooth GATT Server en Android</h1><div class="text-xl text-gray-600 mb-4">July 6, 2023</div><div class="flex mb-8 text-sm"><a href="/tag/Bluetooth/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        Bluetooth
      </a><a href="/tag/GATT/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        GATT
      </a><a href="/tag/Android/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        Android
      </a><a href="/tag/BLE/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        BLE
      </a><a href="/tag/Service/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        Service
      </a><a href="/tag/Characteristic/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        Characteristic
      </a></div><div class="markdown-body mb-8"><p>En este artículo iremos directamente a la implementación de un <em>GATT server</em> para una estación meteorológica. Como recordatorio de cómo vamos a estructurar nuestra estación meteorológica podemos observar la siguiente imagen.</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 953 770' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-99a702632ca4c444db43d1699085a1ed'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-99a702632ca4c444db43d1699085a1ed)' width='953' height='770' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA0CAYAAAA62j4JAAAACXBIWXMAAAsSAAALEgHS3X78AAAMQklEQVRo3u1bR3Nb1xVWSXbOZJes8w%2byTdbJJpOZ/IRMJll4kTJ2LC%2biOFGSkT2KrcpOkCIplvdIiqDQCRAkARAdeOh4D40gWMAukbJsq1Dkl3Mv3gNBWbKjWJSFmWDmm3PLu%2b2759zGw1OnXuJnVcRTFkXgYZJn1bS3KPwHiyxMWxWhRFi0ykKZsHgMirhI3yzacqOLU/nRRXthnDDGwyxNg/adWs8zddTlAn3nJvyFvv0B748snDnqp3DqRH4WIkBt4KxKwk%2boEwueqgkzlUnYi%2bNfCQfBnB2BMTWECakf%2btgAjOkhnmbOjHA5VRj72noYZhb1YO1SH7apX79S%2b3emRob46gdPzGvyjErCj6nxR2zgFH5MeEoNH5B8LizZkYPp0u2D62MXD969%2bPbBBy3vHlwV/3Vw/vo7B3%2b98c7BhY5zBxfazx2YM8MHNoXqkYUX11Vr5ymR/8RRug0G6ssvVRI0zTw5DVDDwbnlOzR4kQYvgjp1SJ06ZNIgi3ghsiLuZASYcmMw58d5eDIt1CTBII/iq8qbCVo7rF0KP5kuT7B%2brBC%2bV5sk8bTlVRPANMCqqhjJnzEVpLSnR50RDo3UuSlFQLQ4CGVhALmF/jryBKXUiD7IxT6ep6XVwn3HyjUiVryF6RyZkEpCDRSWxSeuFQPTgt81rk%2bvfPZpoVFtX7zAGqQO7Ftqs8AHHywM4fMVHVDt/DJWO4AtyrvbC9y7Cez0ALskN7traQws7R7J9S4q0/Hceh6tdCNORBiPaYKw764aiQCxX52ss69eA6hC65F9tXHGZXGfdcJEnfHmh3C42sU7eUCShQ84uvF0hdI3ehG2nsfs%2bHsIWc7DrX8f0akPUPR9CNfEOaTn/oHE9N8h2f%2bGB8VWYE3Hy9ZwVJ9GBNOyBhL255aZBogGlYATMgFVA0i2aRpA4Ha5s9RTHzyTNTLaaSA3aPav0%2by3YcH3AaLWP8Mz8Xv4DX%2bCd/KPWA5fgI9kavp9JOznePqj8mXSghYqf6NWvtp2jFwmHyzrYKO2NQ3gBMgqAQoRIL8GDWANs8HPkl0%2bbRh4rbNteLQ0gvuLM7hfnsHuwjS%2bWJnD4zU3nqx7uGT4fHmO4vN4VHXjYdWFx5T3aWUWe2UnL7u74MQXlTFOpla3RoafTE7VgtegAY0ENGhATf2H653SBv9g8Q4KqU1EAyuIhdaQjGwiGd2k8DqkYBVxkonIJs8L%2b5Z5OBHZ4HkxhlCVwqtIUZlccpuIsNc1QdOCCJkB2xlszxKgfGsEdNVVv5LNoph9AL1ow0f/vIqO6/24/FErl5982IKWyzrc0o1DHDDi44staL92E61XetB29Sblt6KnfRif0PfWSRfVs4dSukwD1x0zA40A6xtFgKoFi9kCzdwOlMQaosEFRAIlBH15ZCieitPMxlaQJpmOV5GILiEeWaK01Vo%2b5cXCi5BCZaSlZeRTWyiml2kxvcl3hyYhIE8mcA/%2bQAGuzAq88ho6R4y40iPgcvcwrvaKPNwycBujjgDEKR8utQ9QfALdohn%2b/Ca8uXXM%2b3LIkwnUCOhtLgLyRECEZtFF8NIsW51J3LGGoTcHYbJLMNgisM4kYXdlYHEmePq4wcvzgokqPJEKQqQ9%2bdR2c2pALrWLbFRBITaPbHgexWQQ5XQEC6kw8jE/CvEASskQiokAFMmHHKVVshJykh9RzzR9G0A6kuWm1HQEVIgAObmHQjKJ/V03fM4ezJrb4DDcwIy5FS5bB%2bYsbfA7dUTEOOas7XARWLycnqQ8OkM8CCAXlyAndmgRbEINyKfvIR4sYI7s2zMd4pi1%2beB1hjnmKe52BBF0xWr5jto3vtkIz3fT2iD5WT07TWoC6V0kfTKqZAYxuxfjXYPQ9wzDPnKHS%2bvgBIehT0TU5uFh25AeDsEAaWoeG/Ei4p40mdJ28xKQoFVc8SQRmw7DTmcC06ABNsHC5ZRohXXEDMuwCe47c3CMTtXzQjZaI3xZxObl5iWA7QLxSBHeYAT%2bUAyhaBLRWBoRKYWwlEQokuDhCKWxeCAcR5i%2bYd96fGEEo3FIYVbPTnNug4XUHg0yjkDRiWEznfQGL6Nj5BrJK%2bib7ET78FV0CtfpDDCAQVMPusQb6NN3wOAZxaj9FpJrAfgCtGM01S6gHoWX5CyU5C7SsTIkSYYUkREOpeH1SLS3pxANZxEJZ3iaRFtdOJjm8Ugog2Qij3gsh5ikICUt0DZ4FwuZMtX9xh%2bFjy5Dny3qSXXXqfO7JPcI91FI30cx8ymXhZQKCmt5WlqOts%2b8CnaWUJJb2FuwvfAy9MYRoJHweHmId3z3GKzPxL8eD5eEY9fhJtCAxgeRVpLfALx8w1tAc5iApgndz38ffEk0PoI0gQZoJHTwmTtY7cX%2bsu75WOl5cR7hKeVrW5%2bmBU2yCHbwLWstJ9EZfgkrhU1US9tcrha3OJbzG1ii624tvlmX1dJW7XuKV5QqbX9UXknhyfJgnYQ3nwCy2/V8CNkEreipLQz1m3Cz6zaEW1Z0tQpovTqAcWEa%2btFZ6NpHIQ7ZMNRnwmCfEb1d4xi8aYCuYxSz9jgKmR1k4ntEQpoT%2b4YT0MVNgHWOvQgpyW3a1jYwbQpgUnDAbvTBMOaEddLD4Z1JwTzhglXvgXF8hn9nHJ%2bFw%2bjHpOhAYDaNUmabtsUN0oSV5nwRioRKCCRXEFO2YJuNE2KwOCUY7SEOFnaHCpiPlGByhOGcz8BBF6B4bgvB1CqCgULzPogwAgJEgCu9Cg%2bhiy46V3Sj%2bKRrBC39elztHUMnXYbEqQAGjW5caruFy90iT/MTAV5lA152HU5uNeuL0D0kw2X4XAkE59P8WJtNVMimy/yInIotcMTpwiMFFcjJChJ0eZKCOQQ8KUIS8VCTPomxFyGFHWXjCTzZcePhphfBmV5E3QOIe4dgn7yB8FwfSgk9Iq4BBJw3kfIPIxMU4HPoqIwfh3t%2byJIEpRlfhGoE7EKO5VHJhWmLS8I3OwWnxYB5pxWzNiPcDjPSkXmezuIsPR5wIRX2YG0hheWChAxdiJryTbD%2bJOYvIOxMYN4axvSkGy6TH/6pKFxmP6WFKB6AxxJEdDbFpdtMV2BbBF5blKfFvKyeZlwEM%2bxFaI8/aS0HEgibnOi73IKef1%2bD0KJDz6VrGL7RRehE/5VWOIVJCK06yuvG0PVO%2bPQ2rEeziM4laC3Zad4XoSQtYv65OMKeDBLBPEcsoCARojt/IAfJJyPmV3gaQ9SbRZi2wpA7haCLFsFg6Q1ZBOVGAsT/goAcfxGKRFMIFeeRrSagd45hzCZAPz2GIcMAbun7YHJPwuo1YvBOPyYo3eozwUZIrcQQWwwhGIp/7YuQ7fX8dVho%2bPP4cQ2Y/9KLUKd6DthFNJKBP%2blFokAHoBkzBL2A26ZxjEyMcDlp08PsNGF4fAh6qx4zPiec3mlIcgSRbBChYLJBA46/CYaf1YBvyT/g0KEI3HWldhfo5neBrYKX9vv7tT%2bQxu/SbrCDAq0JpeynKGbu1yVLq6fz16HaC5Icr5Vj5TN0p6jmYkc3QvU%2b4CbiTY0OEiepAYzRuo%2bQLF5zLdc9RLh/ULncRwPv4I4ShyoRjIQKmUJFVgg50grlCBnlufGKBjlXA5VnFytN/bkjBrWzXullg9ecpfZrTlLixMkRQCZAA9ccJN92rxpVH6GaixzzDrvL3GTWGpyb%2bGsOm7FuPmsvD7Ucr6ejVhfV/9mKDjO5EeaawwbP2n/CnSZl8WO1f9%2bxyifiJyicVuWPCF/YcqNQnRZ5ZxgJxXI/PidzYDO1v1qT3xRaPQ%2bp3spiH3eVMx0NnrnKPXWUxpmb3E9VEz3z6gcva26y9Z3gom/Tyr1EKU/zF2SLEiPikPkNzb1CsPrsNGAyt8MGZ0lG/iPvhoUNXjhykhROncAiKKgLodCYNsYaZz7AKgn73HeQTIM6yXaIuvymYPWobnn1NphfMR%2b8LHgJb6lO06dPndTPIgvHTEHViPcIq85FPdi68LowuzTJSN%2bmti%2bR/O4xP2b5pLzF5SMNsDaSIIvfp1X359SZX1P4tyRPBkd1/4Ym4xfUnx82TITmxF136T8xEhr%2bZ%2bBk/HJf7nxy9siNX6xr6ck2yr1Gj4hgCw/hLNsmGSEW7qv7iiEfl2p7p%2buzzrQzO/L6Z0Bj31I7KWp3hpNBQ9319YikKWo69f/f//j7D8zC/oeVxj2cAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="953" alt="Estructura GATT Server" data-srcset="/assets/static/GATT-server-design.82a2fbd.9212b557fb93bfb6e5efcf787894c2aa.png 480w, /assets/static/GATT-server-design.d16fff3.9212b557fb93bfb6e5efcf787894c2aa.png 953w" data-sizes="(max-width: 953px) 100vw, 953px" data-src="/assets/static/GATT-server-design.d16fff3.9212b557fb93bfb6e5efcf787894c2aa.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/GATT-server-design.d16fff3.9212b557fb93bfb6e5efcf787894c2aa.png" width="953" alt="Estructura GATT Server"></noscript></p>
<p>Si quieres saber más acerca del funcionamiento general de BLE y GATT puedes visitar el artículo anterior donde abarcamos en detalle y de forma teórica el mismo: <a href="https://ivansantosgonzalez.dev/bluetooth-gatt-server" target="_blank" rel="nofollow noopener noreferrer">https://ivansantosgonzalez.dev/bluetooth-gatt-server</a>.</p>
<p>Este artículo se divide en dos grandes bloques, un primer bloque para detallar la implementación de los <em>advertisements</em> y otro donde detallaremos la configuración del <em>GATT Server</em> y el servicio y características asociados.
Cabe destacar también que para el correcto funcionamiento de la aplicación de ejemplo desarrollada es necesario conceder permisos de Bluetooth a la misma. Para ello, se ha utilizado la librería PermissionX en la aplicación de ejemplo ya que el manejo de permisos no es el objetivo de este artículo.</p>
<h2 id="advertisement"><a href="#advertisement" aria-hidden="true"><span class="icon icon-link"></span></a>Advertisement</h2>
<p>Para realizar el <strong><strong><strong>**</strong></strong></strong>advertisement<strong><strong><strong>**</strong></strong></strong> de paquetes a través de Bluetooth Low Energy hemos creado 4 funciones, <code>createAdvertisementParameters</code>, <code>createAdvertisementData</code> , <code>createAdvertisementCallback</code> y <code>startAdvertising</code> que se encargan de configurar los diferentes parámetros necesarios para iniciar el <strong><strong><strong>**</strong></strong></strong>advertisement<strong><strong><strong>**</strong></strong></strong> de paquetes.</p>
<p>A continuación podemos observar la función <code>createAdvertisementParameters</code> que se encarga de configurar los diferentes parámetros relativos a cómo vamos a utilizar Bluetooth Low Energy para comunicarnos.</p>
<pre class="shiki" style="background-color: #2e3440ff"><code><span class="line"><span style="color: #81A1C1">private</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">fun</span><span style="color: #D8DEE9FF"> </span><span style="color: #88C0D0">createAdvertisementParameters</span><span style="color: #ECEFF4">()</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">AdvertisingSetParameters</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">	</span><span style="color: #81A1C1">return</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">AdvertisingSetParameters</span><span style="color: #ECEFF4">.</span><span style="color: #8FBCBB">Builder</span><span style="color: #ECEFF4">()</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">setLegacyMode</span><span style="color: #ECEFF4">(</span><span style="color: #81A1C1">true</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">setScannable</span><span style="color: #ECEFF4">(</span><span style="color: #81A1C1">true</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">setConnectable</span><span style="color: #ECEFF4">(</span><span style="color: #81A1C1">true</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">setInterval</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">AdvertisingSetParameters</span><span style="color: #ECEFF4">.</span><span style="color: #8FBCBB">INTERVAL_MIN</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">setTxPowerLevel</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">AdvertisingSetParameters</span><span style="color: #ECEFF4">.</span><span style="color: #8FBCBB">TX_POWER_MEDIUM</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">build</span><span style="color: #ECEFF4">()</span></span>
<span class="line"><span style="color: #ECEFF4">}</span></span></code></pre>
<p>Hay más parámetros que podemos configurar pero los más importantes son los que observamos en el bloque código anterior.</p>
<p>Dentro de los <em>advertisements</em> podemos incluir un total de 32 bytes de datos para el modo legacy <em>y</em> 255 si el modo utilizado es el extendido. Entre los datos que podemos incluir en los paquetes de <em>advertisement</em> destacan el nombre del dispositivo, un UUID de servicio en caso de tener configurado un servidor GATT y datos extra en el campo <strong><strong><strong>*</strong></strong></strong>service data<strong><strong><strong>*</strong></strong></strong>.</p>
<p>En el siguiente bloque de código podemos observar la función  <code>createAdvertisementData</code> que se encarga de configurar estos parámetros.</p>
<pre class="shiki" style="background-color: #2e3440ff"><code><span class="line"><span style="color: #81A1C1">private</span><span style="color: #D8DEE9FF"> funcreateAdvertisementData</span><span style="color: #ECEFF4">()</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">AdvertiseData</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">	</span><span style="color: #81A1C1">return</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">AdvertiseData</span><span style="color: #ECEFF4">.</span><span style="color: #8FBCBB">Builder</span><span style="color: #ECEFF4">()</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">setIncludeDeviceName</span><span style="color: #ECEFF4">(</span><span style="color: #81A1C1">true</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">addServiceUuid</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">ParcelUuid</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">fromString</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">WEATHER_SERVICE_UUID</span><span style="color: #ECEFF4">))</span></span>
<span class="line"><span style="color: #D8DEE9FF">				</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">addServiceData</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">ParcelUuid</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">fromString</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">WEATHER_SERVICE_UUID</span><span style="color: #ECEFF4">),</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">&quot;</span><span style="color: #A3BE8C">some data</span><span style="color: #ECEFF4">&quot;</span><span style="color: #ECEFF4">.</span></span>
<span class="line"><span style="color: #D8DEE9FF">				toByteArray</span><span style="color: #ECEFF4">())</span></span>
<span class="line"><span style="color: #D8DEE9FF">		</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">build</span><span style="color: #ECEFF4">()</span></span>
<span class="line"><span style="color: #ECEFF4">}</span></span></code></pre>
<p>Algo que debemos tener en cuenta cuando definimos estos parámetros es no sobrepasar el tamaño total del paquete de datos entre todos los campos ya que de lo contrario no podremos realizar el advertisement.</p>
<p>Finalmente, podemos definir diferentes funciones de <em>callback</em> con las que reaccionaremos a los diferentes aspectos relacionados con los <em>advertisements</em>. Entre dichos eventos destacan el inicio del <em>advertisement</em>, el establecimiento de los datos del <em>advertisement</em>, el fin del <em>advertisement</em> y la respuesta al escaneo entre otros.</p>
<p>En el siguiente bloque de código podemos observar la función <code>createAdvertisementCallback</code> y un ejemplo de creación de estos <em>callbacks.</em></p>
<pre class="shiki" style="background-color: #2e3440ff"><code><span class="line"><span style="color: #81A1C1">private</span><span style="color: #D8DEE9FF"> funcreateAdvertisementCallback</span><span style="color: #ECEFF4">()</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">AdvertisingSetCallback</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">		</span><span style="color: #81A1C1">return</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">object:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">AdvertisingSetCallback</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">			</span><span style="color: #81A1C1">override</span><span style="color: #D8DEE9FF"> funonAdvertisingSetStarted</span><span style="color: #ECEFF4">(</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #D8DEE9">advertisingSet</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">AdvertisingSet</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #D8DEE9">txPower</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">Int</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #D8DEE9">status</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">Int</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #8FBCBB">Log</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">i</span><span style="color: #ECEFF4">(</span></span>
<span class="line"><span style="color: #D8DEE9FF">                </span><span style="color: #8FBCBB">LOG_TAG</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">                </span><span style="color: #ECEFF4">&quot;</span><span style="color: #A3BE8C">onAdvertisingSetStarted(): txPower:$txPower , status: $status</span><span style="color: #ECEFF4">&quot;</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span></span>

<span class="line"><span style="color: #D8DEE9FF">				</span><span style="color: #81A1C1">override</span><span style="color: #D8DEE9FF"> funonAdvertisingDataSet</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9">advertisingSet</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">AdvertisingSet</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">status</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">Int</span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #8FBCBB">Log</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">i</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">LOG_TAG</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">&quot;</span><span style="color: #A3BE8C">onAdvertisingDataSet() :status:$status</span><span style="color: #ECEFF4">&quot;</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span></span>

<span class="line"><span style="color: #D8DEE9FF">				</span><span style="color: #81A1C1">override</span><span style="color: #D8DEE9FF"> funonScanResponseDataSet</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9">advertisingSet</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">AdvertisingSet</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">status</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">Int</span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #8FBCBB">Log</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">i</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">LOG_TAG</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">&quot;</span><span style="color: #A3BE8C">onScanResponseDataSet(): status:$status</span><span style="color: #ECEFF4">&quot;</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span></span>

<span class="line"><span style="color: #D8DEE9FF">				</span><span style="color: #81A1C1">override</span><span style="color: #D8DEE9FF"> funonAdvertisingSetStopped</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9">advertisingSet</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">AdvertisingSet</span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #8FBCBB">Log</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">i</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">LOG_TAG</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">&quot;</span><span style="color: #A3BE8C">onAdvertisingSetStopped():</span><span style="color: #ECEFF4">&quot;</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">}</span></span>
<span class="line"><span style="color: #ECEFF4">}</span></span></code></pre>
<p>Finalmente podemos ver la función <code>startAdvertising</code> que usa las funciones anteriores y comienza el <em>advertisement</em> de paquetes.</p>
<pre class="shiki" style="background-color: #2e3440ff"><code><span class="line"><span style="color: #D8DEE9FF">funstartAdvertising</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">    setupGattServer</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9FF">context</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">		</span><span style="color: #81A1C1">val</span><span style="color: #D8DEE9FF"> advertisementParameters </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> createAdvertisementParameters</span><span style="color: #ECEFF4">()</span></span>
<span class="line"><span style="color: #D8DEE9FF">		</span><span style="color: #81A1C1">val</span><span style="color: #D8DEE9FF"> advertisementData </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> createAdvertisementData</span><span style="color: #ECEFF4">()</span></span>
<span class="line"><span style="color: #D8DEE9FF">    bluetoothLeAdvertiser</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">startAdvertisingSet</span><span style="color: #ECEFF4">(</span></span>
<span class="line"><span style="color: #D8DEE9FF">        advertisementParameters</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">        advertisementData</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">				</span><span style="color: #81A1C1">null</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">				</span><span style="color: #81A1C1">null</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">				</span><span style="color: #81A1C1">null</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #B48EAD">0</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #B48EAD">0</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">        advertisementCallback</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">    isAdvertising </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">true</span></span>
<span class="line"><span style="color: #D8DEE9FF">		</span><span style="color: #8FBCBB">Log</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">i</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">LOG_TAG</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">&quot;</span><span style="color: #A3BE8C">startAdvertising()</span><span style="color: #ECEFF4">&quot;</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #ECEFF4">}</span></span></code></pre>
<h2 id="gatt-server"><a href="#gatt-server" aria-hidden="true"><span class="icon icon-link"></span></a>GATT Server</h2>
<p>Para crear nuestro servicio meteorológico necesitamos crear 1 <em>service</em> que contenga 2 <strong><strong><strong>***</strong></strong></strong>characteristics<strong><strong><strong>***</strong></strong></strong>, una para la temperatura y otra para la humedad. En nuestro código esto se realiza en la función <code>createGattService</code> que podemos ver a continuación.</p>
<pre class="shiki" style="background-color: #2e3440ff"><code><span class="line"><span style="color: #81A1C1">private</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">fun</span><span style="color: #D8DEE9FF"> </span><span style="color: #88C0D0">createGattService</span><span style="color: #ECEFF4">()</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">BluetoothGattService</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">		</span><span style="color: #81A1C1">val</span><span style="color: #D8DEE9FF"> service </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">BluetoothGattService</span><span style="color: #ECEFF4">(</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #8FBCBB">ParcelUuid</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">fromString</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">WEATHER_SERVICE_UUID</span><span style="color: #ECEFF4">).</span><span style="color: #D8DEE9FF">uuid</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #8FBCBB">BluetoothGattService</span><span style="color: #ECEFF4">.</span><span style="color: #8FBCBB">SERVICE_TYPE_PRIMARY</span></span>
<span class="line"><span style="color: #D8DEE9FF">		</span><span style="color: #ECEFF4">)</span></span>

<span class="line"><span style="color: #D8DEE9FF">		</span><span style="color: #81A1C1">val</span><span style="color: #D8DEE9FF"> temperatureCharacteristic </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">BluetoothGattCharacteristic</span><span style="color: #ECEFF4">(</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #8FBCBB">ParcelUuid</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">fromString</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">TEMPERATURE_CHARACTERISTIC_UUID</span><span style="color: #ECEFF4">).</span><span style="color: #D8DEE9FF">uuid</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #8FBCBB">BluetoothGattCharacteristic</span><span style="color: #ECEFF4">.</span><span style="color: #8FBCBB">PROPERTY_READ</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #8FBCBB">BluetoothGattCharacteristic</span><span style="color: #ECEFF4">.</span><span style="color: #8FBCBB">PERMISSION_READ</span></span>
<span class="line"><span style="color: #D8DEE9FF">		</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">    service</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">addCharacteristic</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9FF">temperatureCharacteristic</span><span style="color: #ECEFF4">)</span></span>

<span class="line"><span style="color: #D8DEE9FF">		</span><span style="color: #81A1C1">val</span><span style="color: #D8DEE9FF"> humidityCharacteristic </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">BluetoothGattCharacteristic</span><span style="color: #ECEFF4">(</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #8FBCBB">ParcelUuid</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">fromString</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">HUMIDITY_CHARACTERISTIC_UUID</span><span style="color: #ECEFF4">).</span><span style="color: #D8DEE9FF">uuid</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #8FBCBB">BluetoothGattCharacteristic</span><span style="color: #ECEFF4">.</span><span style="color: #8FBCBB">PROPERTY_READ</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #8FBCBB">BluetoothGattCharacteristic</span><span style="color: #ECEFF4">.</span><span style="color: #8FBCBB">PERMISSION_READ</span></span>
<span class="line"><span style="color: #D8DEE9FF">		</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">    service</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">addCharacteristic</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9FF">humidityCharacteristic</span><span style="color: #ECEFF4">)</span></span>

<span class="line"><span style="color: #D8DEE9FF">	returns ervice</span></span>
<span class="line"><span style="color: #ECEFF4">}</span></span></code></pre>
<p>En esta función creamos nuestro servicio y características configurando sus UUID identificativos y las propiedades y permisos necesarios como definimos en el artículo anterior y podemos ver en el <a href="https://www.notion.so/Implementaci-n-de-GATT-Server-en-Android-230ae2f3e4784bbf85c65137912ec352?pvs=21" target="_blank" rel="nofollow noopener noreferrer">diagrama inicial</a> del artículo actual.</p>
<p>Además de lo anterior debemos definir los <strong><strong>*</strong></strong>callbacks<strong><strong>*</strong></strong> necesarios para interactuar con los dispositivos que traten de leer nuestras <strong><strong><strong>***</strong></strong></strong>characteristics.<strong><strong><strong>***</strong></strong></strong> Esto es realizado sobrecargando la clase <code>BluetoothGattServerCallback</code> e implementando nuestros propios procesos para responder a los diferentes eventos. En el caso de nuestro ejemplo solo responderemos a los eventos de lectura, por lo tanto, solo implementaremos el callback <code>onCharacteristicReadRequest</code> como podemos observar en nuestra implementación que se muestra a continuación.</p>
<pre class="shiki" style="background-color: #2e3440ff"><code><span class="line"><span style="color: #D8DEE9FF">inner classGattServerCallback </span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">BluetoothGattServerCallback</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #81A1C1">override</span><span style="color: #D8DEE9FF"> funonCharacteristicReadRequest</span><span style="color: #ECEFF4">(</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #D8DEE9">device</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">BluetoothDevice?</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #D8DEE9">requestId</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">Int</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #D8DEE9">offset</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">Int</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #D8DEE9">characteristic</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">BluetoothGattCharacteristic?</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">				</span><span style="color: #81A1C1">super</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">onCharacteristicReadRequest</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9FF">device</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> requestId</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> offset</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> characteristic</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">				</span><span style="color: #81A1C1">if</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9FF">characteristic</span><span style="color: #81A1C1">!!</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">uuid</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">toString</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">==</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">TEMPERATURE_CHARACTERISTIC_UUID</span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #8FBCBB">Log</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">d</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">LOG_TAG</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">&quot;</span><span style="color: #A3BE8C">Reading temperature characteristic</span><span style="color: #ECEFF4">&quot;</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">            gattServer</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">sendResponse</span><span style="color: #ECEFF4">(</span></span>
<span class="line"><span style="color: #D8DEE9FF">                device</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">                requestId</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">                </span><span style="color: #8FBCBB">BluetoothGatt</span><span style="color: #ECEFF4">.</span><span style="color: #8FBCBB">GATT_SUCCESS</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">                offset</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">                temperatureValue</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">toByteArray</span><span style="color: #ECEFF4">()</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span></span>
<span class="line"><span style="color: #D8DEE9FF">				</span><span style="color: #81A1C1">else</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">if</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9FF">characteristic</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">uuid</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">toString</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">==</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">HUMIDITY_CHARACTERISTIC_UUID</span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #8FBCBB">Log</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">d</span><span style="color: #ECEFF4">(</span><span style="color: #8FBCBB">LOG_TAG</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">&quot;</span><span style="color: #A3BE8C">Reading humidity characteristic</span><span style="color: #ECEFF4">&quot;</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">            gattServer</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">sendResponse</span><span style="color: #ECEFF4">(</span></span>
<span class="line"><span style="color: #D8DEE9FF">                device</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">                requestId</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">                </span><span style="color: #8FBCBB">BluetoothGatt</span><span style="color: #ECEFF4">.</span><span style="color: #8FBCBB">GATT_SUCCESS</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">                offset</span><span style="color: #ECEFF4">,</span></span>
<span class="line"><span style="color: #D8DEE9FF">                humidityValue</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">toByteArray</span><span style="color: #ECEFF4">()</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">}</span></span>
<span class="line"><span style="color: #ECEFF4">}</span></span></code></pre>
<p>Finalmente, utilizaremos la función <code>setupGattServer</code> para asignar todos los parámetros configurados mediante las funciones anteriores para incluirlo en nuestro servidor GATT. La función <code>setupGattServer</code> es invocada en la función <code>startAdvertising</code> para que todo el sistema funcione de manera conjunta.</p>
<pre class="shiki" style="background-color: #2e3440ff"><code><span class="line"><span style="color: #81A1C1">private</span><span style="color: #D8DEE9FF"> funsetupGattServer</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9">context</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">Context</span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">    gattServerCallback </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">GattServerCallback</span><span style="color: #ECEFF4">()</span></span>
<span class="line"><span style="color: #D8DEE9FF">    gattServer </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> bluetoothManager</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">openGattServer</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9FF">context</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF">	gattServerCallback</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">		</span><span style="color: #81A1C1">val</span><span style="color: #D8DEE9FF"> service </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> createGattService</span><span style="color: #ECEFF4">()</span></span>
<span class="line"><span style="color: #D8DEE9FF">		</span><span style="color: #81A1C1">val</span><span style="color: #D8DEE9FF"> serviceExists </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> gattServer</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">getService</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9FF">service</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">uuid</span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">!=</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">null</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #81A1C1">if</span><span style="color: #ECEFF4">(</span><span style="color: #81A1C1">!</span><span style="color: #D8DEE9FF">serviceExists</span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">        gattServer</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9FF">addService</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9FF">service</span><span style="color: #ECEFF4">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">}</span></span>
<span class="line"><span style="color: #ECEFF4">}</span></span></code></pre>
<h2 id="conclusiones"><a href="#conclusiones" aria-hidden="true"><span class="icon icon-link"></span></a>Conclusiones</h2>
<p>Este artículo puede servir como continuación al anterior <a href="https://ivansantosgonzalez.dev/bluetooth-gatt-server" target="_blank" rel="nofollow noopener noreferrer">https://ivansantosgonzalez.dev/bluetooth-gatt-server</a> y trata de implementar un servicio meteorológico donde poner en práctica en una aplicación Android los diferentes conceptos relacionados con Bluetooth Low Energy y GATT vistos en el artículo anterior.</p>
<p>Finalmente podemos observar una captura de la aplicación de prueba desarrollada, cuyo código está disponible en el siguiente repositorio de Github, <a href="https://github.com/IvanSantosGonz/BLEWeatherStation" target="_blank" rel="nofollow noopener noreferrer">https://github.com/IvanSantosGonz/BLEWeatherStation</a>.</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 345 750' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-fb4b56f4891b52714f802b1d2b1147f6'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-fb4b56f4891b52714f802b1d2b1147f6)' width='345' height='750' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAACLCAYAAADRRp%2bpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAPPUlEQVR42u1de1BU5xW/C2hqmlaTOiYYeS4sb2GXfbDyZgF5KA9ZFhAR8AmpiolGmyZtxFeqJqZ52aSJ0TZp2iSdJsZEEcRn1YiPdNpJZzptp%2b1Mm78602k7Ffbu5Ts959u9cME14rIC4cLMj/O9H797vvOd%2b%2b29u4Lg%2bcvLy1teXFx8edGiRb3lZeWuyspKV0VFpau0tNRVVFTkwjxXSUmJq7SklKctKl3kwrKuxYsXu8rKyjioXnl5hasCwWXFIMrlNDldEaa%2blixZ4qqqqroZS6p4HpWprHCPSW6T4nLdwfp2LimdwnV1S121tbWumpoaV21N7X/tdvtZHLddUP4tW7bs4PKGRlhYWASGVAMzGAyQkpICySnJkJSUBIlJiSw%2bIZ7FxcdDXFwcxHLEQkxMDOg4dKDTuRHNEQ3R0W5ERUdBVFQUaLVaiNRqWWRkJCBYBCEigoWHh4MCFGdh4WEQFhYGoRyhEBrqRgghJIRj3rx57OGHH2Zz585lwcHBHA899NAQYB7MC5lHZbFuCEdGRiYUF5dAZmbm83zyra0tdkpYWu8QZ9wXJGESGwLN0LBGo0jTaJgmIADTNCyApAcBI0WggFLg4cDAQIxTWqAH7nCgl/gAggJZ0LQAd95AuxrMGwzLY6Yx0phn3n%2bvy%2b6okMwmCxhNxkIhOzu3u7qmEloan5TCha2QrHmVJQgvQ5LwCiQiEhDzEcmaVyiN8hjGGcXnjxxseFqy5gAYNIdBLxzG9g%2b48wWvYF7Ax0PjjBR%2bCHHCS6APPMDHS%2bOOw3Rq3zMHlugprw98lYUI34G6ssfEsooSCJkX9qaQm5vz7xVNq6Eo%2bAgzCd0se0YnK3ygm%2bV8vYvlzzzJwxnTOplZ6MC8LlY27zQsCDgBacIJZkWkjQygjFuFTpQdLELYwLQB6zF8DKxCF0%2b7TV0KA/VL4ym4v5ttLrvOqqPP4SQ/wTF38jFWRZ1lFszPuofPBWwzuzz9dmB6Nyt44Lhkr2iAsPCQ80J%2bYZbTUdLmSg860Z8i/ArssR1s38YeaC04DU81XITXdv4GKrSdyOYHsCrrFHy/%2bQKUR3TglfsQLJojYBbuFB/gJDpBe89KCI6cA0HfECAkqAYn1cnzRtJGWsBHkIxl65JPAgCD3a3XoSntFOzdeAUqozrg0J7fQn1qFzy/6RpsrT0HB753hY/ZgGM2az5AIk5KJdYNoI2Z2yPk5Wc6q4s3iulBHZJJ%2bAjSpx9ljabTsCi0A6rjuqAsvBMWTPsYUrHj8vATsDr7NGTe%2bzFQWYtw9I5hxkHgACDka4th9sOzYNrsb8KD9%2bSTBvDJWUbYbprmKE7oCNQnnwLrtI%2bQhGvQmn8eih7sgJee%2bB0UzD4GS6I6Ie%2bBY1Ad3wWLQ07wOViEI2yB5qRUnNYGEdEPEQEZTkfpo2JG0AnJ0zlLwYKpGDZ4pNyhEcMUN3vivhBAfViF46DXHIIHAo3wrekG0Ae8jmkdI568koQUPqmjXEP1GDZhOBHDJj7%2bj3hc75kHlUeSWbqmWyq2tkFkdHCPkGvLcFaXbBTNwieSHiumCh8yI16lVAUMHgyP%2bw7q52Mk9BjiEw5K86Ut44A8AvK4jXzCH94Ed51fof04IRVZ2mgJXBYysqzObzc9Jb6x5p/SgaYv4EfNXzAE3G0caP4HSjfc4S/GBK80/Z0dWvsfaa3jaZgX/uBlYUGGxbm5dbt46UWQzj4LcO45YOf2czkU3tK85d%2bu3DjjzL5%2bdvVlkDavegbmhs5xE/DY2nbx9B6QOnaIcLxdZMeedqF0QQdhuzt8nNK2iTwup7ml6M7f5olvG8yj%2bnL4xM6JABzrjj52fh9IjzbvRg1AI2hFAja1tItn9oLUudsFl3/iZJ%2b954TLh51w5gURTj0nctnzlhM%2be68Puvdh/IcinH3RCScx/Nn7Ilx/1wkXX3fCqWdFlCJc/qkTzmKd0/tFOPcStvGsCzp3StCF7XfuQrnLNXLs9l/Zzl1EgpP9%2bjmQHkMCQiLQCC7wEIDqL9GV//x4H/vi817484U%2b%2bEtPL/zhzA346xWSiFN98OeLffC3azfgj%2bd7OTm/O9qH4T74fVcv/OkC1rvUB384TWURp93lr/3CidqAE3/GQ8Du8cEQAlbshtDIuQoCUC1IVc%2b9LLJPDzrhwqsi14Ken/bB1Z/3waWDfXDhNbzSmHflZ%2b4wqdWnh6iMEy696YTr77nlZUyT0y9iufMvO1EDXB4NGF94J2DtNm4DMBOOb3ey49tQtjvd6xvDx%2bT4diePc2wnAjzpnvxjTyviaC/keh1Udpe7PJfjiOM7etn5Z2kJ7IIwIsDKd4Ed4qfP4y6wBy3lPtwF9nF5e%2bwdYTm57ATAmT3Arr6Au8DKPRCmRQIyszKcTctWiasqn5QaF22BpsVbGAImKxoXPc5WV35PclQ2QGRURA/eDmc77fYqMWF%2bjKSLj4SYeC1DwGSFDucXn6STChfm06GLmwCHwyGaTGZJn2IAg97A9Hr0zycrUgzMZDRLRUVFdILVI%2bTk5Dirq6tFo9EoJScn01EYIzkZwY/5kpNZamqqtHDhQoiNjfVOABWcrFASEBMTM0WAkJ2T04cEuIyYqFYNcBOgWg3Izla3Bqh%2bCXg0QFS7DVD1NqjaJSA7QqrdBdwE5OaqnADVa8AUASr3BKcIUD0BKt4FVH0z5DkSuyRkqZOA/sLCQkhISPhcrRrA8vPzKe4cICBVhQTMnz/fqWoNwLCoag3AsEvVBGDcNaUBKvUEiQD6BExSMwG0C/Sq9l6APMEYna5brQTQSyD0HsPHZAR7VegHyAR8MkWASgmQbiZAhTZAq9UeVSsB8qFoN3042qtiP%2bAGbYOqJKCgoIAORETVEkAakJiY6FS1BiABolqNoKwBolr9gEEC1GwDkpKSFASoUAOGEqBGG0AEyDYgVa02YIqAqW3QNwKGPYJ%2bU1iZpqwzqQgYPim9Xj/iepNiCShJwBsLiI%2bPH5ByWAbFvZE27vcCo7UB9CUrpaWlUFZWBiUlJUAHDYTi4mIeJ0mdkSQNmSgaQPcCeFEkn11heSJEQEZGBjQ2NoLdbudy5cqVsHTpUqivr4eGhgaoq6vjcSSZ7sEnBAH0fEB0dPQ/haysLJ%2b3QZkEVCX%2b9Tqk6sOXA%2bUR5LwJsgTkM8Er9ISITwQoNcBqtYLFYhnRxCbIEuBHYkjA9VHdDcpbXVtbG1d7utIj2Qn8PCGfCcAlcH3Ut8O0plevXs3XOC0DipNWjAW8%2bSG%2bEHBjNK4wTTg9PZ2%2bmopLMohjAeoPxzwqDdDpdNfpVFjyvDDR7%2bsSIBswVhNXwi8E5OTmgS8EKNVuLNXe70sgJzcXfNUAuXMyfLfChDWC7m3QdwKUrMvurrzfkyQ/gORE2PtvuQ1GR1/zeQkoSSgvL%2bfur81m4y4vNV5TU8NdYPL%2bJsrkvSwB/xBA9wG1tbXc5XU4HFwuX76cIy0tbdzd31sSoNNd84sRlN1eMkyylJ2iibwEPBrguw2QdwC6yiaTiYeVhm%2biTd4rAdk5uaNeAuvXr4cVK1bwK/8Vc4WvjWobpPKyK0zrPjY2dkD9xwJ%2b8AOujdoPIALQnYa8vDwuc3Jy7jrkfnzZYYb5AVdHvQRI0q3wggUL%2bL0AybEA9UVf/%2bsrAZ5HZMgG5KjSFSYCIiIirgpZ2TmjdoXH2ar7rAEDBDgcvhPgXTMG7YM/4M/t9JYaQC8S%2be%2bTIbdKkpEi/8BkMivgjpvNyvhwDC3vT4fKCwHZHgKMfiNAHmRVVTVuj/WoYbXYRw1Hbe1SHrfbHTxeU1N3E5Tl6%2bsb%2bOEHrXl/H4oOIcBfS0BJQHW1A5qaVqCfsBbWrdsAjzyyDu8PmmDNmhZoa3sU49%2bG5uaVHCtWrOJ5hFWr1vCyLS2P8PiYEODPJeBuR881oL19B7z//i/h7bffgYMHD8Fbb70Nb7xxEA4c%2bBH8%2bMevw%2bOPb4VDhw7DO%2b/8gqf94Ad74N133%2bNl33zzMBK3nm97/rqhGkMN0MOSJXZ%2b5Z944klobGyGTZse5xOmq09Xl8KkIZs2bYaNGx%2bD7373Kdiy5TuwdesTsHnzFh5euXI1P/66axrgqx8wkiVA65zWPEmlLSApr3VKl9e7nKeUZAOysrLvJgG5fidAJoEsOHmJXwaz2XLbMv78TPEmAkZ7L/Bljol7H08apR/gm8c3rhqgdIbGy%2bMbCQGRkZEKG5DqXw24S1%2bG6F8CtNoBApz%2btgFfhTdGUAOu3JVd4KtCQAQRgF6Ws9rhEFNV%2bM4Q1wB0Mm44HA6XGgnAXQAJyMzsVTcBGRlTBKiagPT09CkNUCsB4eHh6jaCUwQQAZlTBEwRoFoCwlRPAP3ChJq3QSRAxY5QcfGgDahWIQH0NFuk5zxAdRpgMBg4AVqttke1RpAIiI6O5gSo70AENYDeZ4qKiupR5YmQwUOAVs0E0Jtu3AZMEaDmJeDZBW7QT9OrlgClBngeSJq0vzXmebJ1gIBIIgBdYa4BZrNZoo%2bhMZMKwGQFzpGZTCZuA9ATRAJQA%2bx2uysuLk7CfZGcA4YAf4HaHC38PB4WExMjFbpfnORfrn6jpLTUpdFoJEEQAMFUAImeO4pPSLhMX6Lyv7q6OjZjxgzmIcAvQEK5pLdG9u7dC%2b3t7bBjx447ws6dOyE4OHhIe/7A9OnTJXrLBZfDJbIB/6JXXwsKCjg72JFf2cbO2L1I7gwf4c/xyG3Rcm9tbaVHeC4KqApXN2zYAC0tLf2Y2R8YGCj5E56lJQkoB8IyKK7IHwJPmQA/jiUoKIja7Ldara5169aRBhwR8N%2bTzc3NsH///l40Cv333XcfmzVrFps5c%2bYghsfvBFR3NPC1Xy%2bYdf/9JPvXrl3bR0sTjeIasgGzkIS/LmtooAclWGxsrIToR0vpDZIC/bcDb%2bfmtqThZWTcKn0AWFcenxdItwHvm7b6qqoqes/pLPo/AQL9WSwW7ezZszvmzJnjDAkJAW8IDQ2lM7RBhIfTkdKtERHhBoblshFyXNmOApSPe/NAOZJyGjotA1KrwJ1uo1jnPzqd7jW82F/nk0%2bIj3ezQOGEhChErkGvtxlTU21Go9GGhsKGTtIA0iwWmzUtzYbryIYsDgBJHAIqS/XR%2bbChl8nbsWAaXgEbDsSGg%2bCgsAz01Hg5Kj8/KcmWiEDPzYYu7ACSEZRGoPIEOf5lwLr52HbWwsLCYHm%2bOAfN/wGu1LAJ8EUqXwAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="345" alt="weather-station-app.png" data-srcset="/assets/static/weather-station-app.c76d370.699c54e5dce979e8978c0d58983f31f2.png 345w" data-sizes="(max-width: 345px) 100vw, 345px" data-src="/assets/static/weather-station-app.c76d370.699c54e5dce979e8978c0d58983f31f2.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/weather-station-app.c76d370.699c54e5dce979e8978c0d58983f31f2.png" width="345" alt="weather-station-app.png"></noscript></p>
</div><div class="mb-8"><a href="/blog" class="font-bold uppercase">Back to Blog</a></div></div></main><footer class="bg-green-700 text-white"><div class="container mx-auto flex flex-col lg:flex-row items-center justify-between py-8"><div class="mb-8 lg:mb-0"><div>Copyright 2023. All rights reserved.</div><div><a href="/rss.xml" class="text-white hover:text-gray-400 font-normal">RSS Feed</a> |
          <a href="/sitemap.xml" class="text-white hover:text-gray-400 font-normal">Sitemap</a></div></div><ul class="flex items-center space-x-8"><li><a href="mailto:ivansantosgonz@gmail.com" class="text-white hover:text-gray-400"><svg width="25" height="20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 0h20A2.5 2.5 0 0 1 25 2.5v15a2.5 2.5 0 0 1-2.5 2.5h-20A2.5 2.5 0 0 1 0 17.5v-15C0 1.125 1.125 0 2.5 0zm20 4.225V2.5h-20v1.725l10 5 10-5zm0 2.8l-9.438 4.713a1.25 1.25 0 0 1-1.124 0L2.5 7.025V17.5h20V7.025z" fill-rule="nonzero"></path></svg></a></li><li><a href="https://github.com/IvanSantosGonz" target="_blank" class="text-white hover:text-gray-400"><svg width="20" height="19" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M10 0c1.814 0 3.487.435 5.02 1.306a9.827 9.827 0 0 1 3.639 3.542A9.33 9.33 0 0 1 20 9.734c0 2.121-.636 4.03-1.908 5.723a9.783 9.783 0 0 1-4.928 3.518c-.234.042-.408.012-.52-.09a.49.49 0 0 1-.17-.38l.006-.969c.005-.621.007-1.19.007-1.705 0-.82-.226-1.42-.677-1.8.495-.05.94-.126 1.335-.228a5.4 5.4 0 0 0 1.223-.494 3.62 3.62 0 0 0 1.055-.843c.282-.334.512-.777.69-1.33.178-.554.267-1.19.267-1.909a3.7 3.7 0 0 0-1.028-2.61c.32-.77.286-1.631-.105-2.586-.243-.076-.594-.03-1.054.14-.46.168-.86.354-1.198.557l-.495.304a9.478 9.478 0 0 0-2.5-.33c-.86 0-1.693.11-2.5.33a11.6 11.6 0 0 0-.553-.342c-.23-.135-.593-.298-1.088-.488-.494-.19-.863-.247-1.106-.171-.391.955-.426 1.816-.105 2.585A3.7 3.7 0 0 0 3.62 9.227c0 .719.089 1.352.267 1.902.178.549.406.993.683 1.33.278.339.627.622 1.048.85a5.4 5.4 0 0 0 1.224.494c.395.102.84.178 1.335.228-.338.305-.551.74-.638 1.306a2.631 2.631 0 0 1-.586.19 3.782 3.782 0 0 1-.742.063c-.287 0-.57-.09-.853-.272a2.256 2.256 0 0 1-.723-.792 2.068 2.068 0 0 0-.631-.66c-.256-.168-.471-.27-.645-.304l-.26-.038c-.182 0-.308.02-.378.057-.07.038-.09.087-.065.146.026.06.065.118.117.178.053.059.109.11.17.152l.09.063c.192.085.38.245.567.482.187.236.324.452.41.646l.13.292c.113.32.304.58.574.78.269.198.56.325.872.38.312.054.614.084.905.088.29.004.532-.01.723-.044l.299-.05c0 .32.002.694.007 1.12l.006.692a.49.49 0 0 1-.17.38c-.112.101-.286.13-.52.089a9.783 9.783 0 0 1-4.928-3.518C.636 13.763 0 11.855 0 9.734a9.33 9.33 0 0 1 1.341-4.886 9.827 9.827 0 0 1 3.64-3.542C6.512.436 8.185 0 10 0zM3.79 13.98c.025-.058-.005-.11-.092-.151-.087-.026-.143-.017-.17.025-.025.06.005.11.092.152.078.05.134.042.17-.025zm.403.432c.06-.043.052-.11-.026-.203-.087-.076-.157-.089-.209-.038-.06.042-.052.11.026.203.087.084.157.097.209.038zm.39.57c.078-.06.078-.14 0-.24-.07-.11-.143-.136-.221-.077-.078.042-.078.118 0 .228.078.11.152.14.221.089zm.547.532c.07-.067.052-.148-.052-.24-.104-.102-.19-.115-.26-.039-.078.068-.061.148.052.241.104.102.19.114.26.038zm.742.317c.026-.093-.03-.16-.169-.203-.13-.033-.213-.004-.247.09-.035.092.021.155.169.19.13.05.213.025.247-.077zm.82.064c0-.11-.073-.157-.22-.14-.14 0-.209.047-.209.14 0 .11.074.156.221.139.14 0 .209-.046.209-.14zm.756-.127c-.017-.093-.096-.131-.234-.114-.14.025-.2.088-.183.19.018.101.096.135.235.101.139-.034.2-.093.182-.177z" fill-rule="nonzero"></path></svg></a></li><li><a href="https://twitter.com/SantosIvn" target="_blank" class="text-white hover:text-gray-400"><svg width="20" height="17" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M19.807 1.943a8.588 8.588 0 0 1-2.036 2.135 11.918 11.918 0 0 1-.465 3.854 12.085 12.085 0 0 1-1.452 3.177 12.426 12.426 0 0 1-2.318 2.691c-.897.78-1.978 1.402-3.243 1.867-1.265.464-2.618.697-4.06.697-2.27 0-4.348-.618-6.233-1.854.293.034.62.051.98.051 1.885 0 3.565-.588 5.04-1.764a3.915 3.915 0 0 1-2.363-.825 4.038 4.038 0 0 1-1.432-2.039c.276.043.532.064.766.064.36 0 .717-.047 1.068-.14A3.982 3.982 0 0 1 1.73 8.43c-.617-.754-.925-1.63-.925-2.627v-.051c.57.324 1.182.498 1.835.524a4.1 4.1 0 0 1-1.32-1.47 4.078 4.078 0 0 1-.49-1.969c0-.75.185-1.445.553-2.084a11.548 11.548 0 0 0 3.702 3.05 11.163 11.163 0 0 0 4.669 1.271c-.067-.324-.1-.639-.1-.946 0-1.142.395-2.116 1.187-2.92C11.632.402 12.589 0 13.712 0c1.173 0 2.161.435 2.966 1.304a7.878 7.878 0 0 0 2.576-.997 3.997 3.997 0 0 1-1.785 2.275 7.98 7.98 0 0 0 2.338-.639z" fill-rule="nonzero"></path></svg></a></li></ul></div></footer><div style="display:none"><svg id="dots-triangle" width="170" height="170" xmlns="http://www.w3.org/2000/svg"><path d="M168.152 170a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478 0a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm-18.479 0a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zM94.24 133.043a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478 36.956a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478 55.434a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm-18.479 73.913a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm-18.478 92.391a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zM1.848 133.044a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.695zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696z" fill="#2C8056" fill-rule="evenodd" opacity=".503"></path></svg></div></div>
    <script src="/assets/js/app.39627749.js" defer></script><script src="/assets/js/page--src--templates--post-vue.d4d3ba83.js" defer></script>
  </body>
</html>
