<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Integración Continua en Proyectos Android Nativo con Github Actions - Ivan Santos</title><meta name="gridsome:hash" content="c317ffcb8ae6663fb1ef08be9bb262a1b2ea38e4"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.20"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="description" content="Ivan Santos Portfolio and Blog"><meta data-vue-tag="ssr" name="author" content="Iván Santos"><meta data-vue-tag="ssr" data-key="description" name="description" content="Ivan Santos Portfolio and Blog"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,700"><link rel="preload" href="/assets/css/0.styles.11d2e791.css" as="style"><link rel="preload" href="/assets/js/app.484a90d4.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.4dce4f95.js" as="script"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.6fb1381b.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.9067934b.js"><link rel="prefetch" href="/assets/js/page--src--pages--docs-vue.a778d4ba.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.01d13d82.js"><link rel="prefetch" href="/assets/js/page--src--templates--documentation-vue.a7077f02.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.5fd22563.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--vue-components-in-markdown-md.370e510e.js"><link rel="stylesheet" href="/assets/css/0.styles.11d2e791.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="content-wrapper bg-background-primary font-sans text-copy-primary leading-normal flex flex-col min-h-screen"><header class="border-t-14 border-green-700"><nav class="container mx-auto flex flex-wrap justify-between items-center py-8"><div><a href="/" class="active"><img alt="logo" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 595 300' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-f7d380d38fbecb378a9c4fe1dcf9fa38'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-f7d380d38fbecb378a9c4fe1dcf9fa38)' width='595' height='300' xlink:href='data:image/svg%2bxml%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAYAAACinX6EAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEiUlEQVRo3u2XX4gXVRTHf7/5bcpWpGZamxJluuSv%2bV2kggok%2boNBZSma7m9mLTUtn8rMjJKtZXdndqkNqoe1B8mKHjIELQjKh4z%2bgD5EKGIPRUF/IDIoeoggivqeme%2bdPXN3fvtQL/twD3yYe%2b/ce%2bbcc8%2b990yt5sWLFy9evHj5r3J1sql46vJ00hqJaisnduTlJMqwEo5EM2NirbRdGEYjG7ou0kz7dZ86CKRsnEkVOlW71WnSOMhIoi7RUbxL4862lXXUrhrry52X/A/nuUpNEpfaO/VjObDvDSdRJcZx4HR2dJLm4IZpF8aWzWhebjGiwqS8oCUJs4F2wjFWMg6WPLNOD5gPNoFZ6kN1PXk8LwFrnDYY0G/1lqNnuE8i5knwMfgIjLXSaLGKJjdy8u%2blkxHnOK6ux%2bXluGH7YUHrII9QRFehXwxTkw8cpQ0%2bU/BdCKP1Ktv%2beHcB%2bACMq7ES2qXV4dawYx4Ag2At2AXOgr000H43cByBrZLptDrmgIfB%2bToCXecYNS%2bru1gUN4zxvBBsb460bfs54Ecx1Nb5XKwMa4EVavz8jtsmLZz2Mtii%2bsySsarercrnSYRVbJfXwJeqvkyV54IBcCnr14PbGUUNHU1FOIVPS/hHn8PIN5Si9eBreHYhnu8x1KV8QJSLAWAI3ryO/Y9l9TTqwfMVa7jaMva5NPtWEn0K3avVdhSHf8LJ3cW%2bL4K3W0lbnLQfNMHjZjT%2bB8%2bH2Ocw%2bAHErO9bMX6/vB9iZNyC8h%2bw8w7thJoTYjAoPsgBXWx7C0xwZaEgmg12gm3gQxr3HHheVgD8CR6RLQO%2buGz3%2bsrrTqR3aK20baEjDrDfm%2bAoeBC8C84Fv4FhbrO/m4P9slDPyqQ5Zgz8zMU5wjZx1GZwhWHUYU43oP4XuLWI%2bmxv8soxaTSOTiexZxZKffnuVfL%2bK7AajrmIht4E9oC7wXEg7d8CWfFxRkQfOAVus2eJ42g5UxY44SznwH38xsXgMwlZsBH8ykNYHLCT/U%2bDO1mWLbqSW2U/214FW50zZRdW/hvQyyioV0XBS3Iys3x55tk0mgPH3MyV2Mt3j4FDEoLgDJjHVZ/gqsmhdq0%2b1WGIDf%2bjXLEN/EZvvo0yJxzjwfg9WALeASc4Tr7T5qF7lltwLp3Rw0NVVv0F8H5LbS1%2b6yfMZREnH0w5oFTnpXzO4xaQfbkKvC6T4wl6JcpPgUVgB8NvVMZw7HZwY4f9301H/QJ%2bp2P3MFIGOPGtdM4TwHDcveAelmWyj%2bKen832IY7bSJv3SSSpOfXYurrd7NUQFYmKSftLbdlqpvl5oK%2bj6ZIV49zhThJU1yc9WF51wlfoDCpuga6Ktm46ZJnKB6bYnt9I0VSjTTnJUalxnF1hk%2b%2byG6NhU2BRJiGuJtrQesJy5ihJSaOceud3fkknt41JiyQosO2liWT5wWQqrpOjymTKnbwr4XBbZ1xZ2SAvMM5qaiddM7C5pLhTSmvfN/N/DTvRukrGqtLdivJkNhci7Q3TUp9AZ44mmSE/WF68ePHixYsXL168zBz5F/fwmf4gM7uaAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="595" data-src="/assets/static/logoPersonal.e4b7663.1b2958591d44be0bbe0c0c010cc1bdcf.svg" data-srcset="/assets/static/logoPersonal.e4b7663.1b2958591d44be0bbe0c0c010cc1bdcf.svg 595w" data-sizes="(max-width: 595px) 100vw, 595px" class="w-40 g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/logoPersonal.e4b7663.1b2958591d44be0bbe0c0c010cc1bdcf.svg" class="w-40 g-image g-image--loaded" width="595" alt="logo"></noscript></a></div><div class="block lg:hidden"><button data-cypress="hamburger" class="flex items-center px-3 py-2 border rounded border-gray-500 hover:text-gray-600 hover:border-gray-600"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="current-color h-3 w-3"><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z" fill="gray"></path></svg></button></div><ul data-cypress="menu" class="uppercase tracking-wide font-bold w-full block flex-grow lg:space-x-8 space-y-6 lg:space-y-0 lg:flex lg:flex-initial lg:w-auto items-center mt-8 lg:mt-0 hidden"><li class="mb-6 lg:mb-0"><div class="relative" data-v-46b19670><div data-v-3ae9f24e data-v-46b19670></div><div class="relative w-80" data-v-46b19670><input type="text" placeholder="Search (Press  "/" to focus)" data-cypress="search" value="" class="bg-background-form border border-gray-500 rounded-full px-4 pl-10 py-2 outline-none focus:border-green-500 w-80" data-v-46b19670><div class="absolute top-0 ml-3" style="top:10px" data-v-46b19670><svg fill="currentColor" viewBox="0 0 24 24" width="24" height="24" class="text-gray-500 h-5 w-5" data-v-46b19670><path d="M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" class="heroicon-ui" data-v-46b19670></path></svg></div><!----></div><!----></div></li><li><a href="#" data-cypress="switchTheme" class="text-copy-primary hover:text-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></a></li><li><a href="/#projects" class="text-copy-primary hover:text-gray-600">Projects</a></li><li><a href="/blog" data-cypress="blog" class="text-copy-primary hover:text-gray-600">Blog</a></li></ul></nav></header><main class="flex-grow"><div class="container-inner mx-auto my-16"><h1 class="text-4xl font-bold leading-tight">Integración Continua en Proyectos Android Nativo con Github Actions</h1><div class="text-xl text-gray-600 mb-4">December 4, 2020</div><div class="flex mb-8 text-sm"><a href="/tag/Continuous%20Integration/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        Continuous Integration
      </a><a href="/tag/Github%20Actions/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        Github Actions
      </a><a href="/tag/CI/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        CI
      </a></div><div class="markdown-body mb-8"><h1 id="integración-continúa-en-proyectos-android-nativo-con-github-actions"><a href="#integraci%C3%B3n-contin%C3%BAa-en-proyectos-android-nativo-con-github-actions" aria-hidden="true"><span class="icon icon-link"></span></a>Integración Continúa en Proyectos Android Nativo con Github Actions</h1>
<p>La integración continua en los diferentes proyectos que abordamos en el día a día es cada vez mas importante, más si cabe, teniendo en cuenta que en la mayoría de los casos trabajamos en equipo. Debido a esto, tener un sistema que nos permita construir nuestro software y pasar los test de manera automática frente a cada cambio puede ser de vital importancia.</p>
<h2 id="¿qué-es-una-integración-continúa-"><a href="#%C2%BFqu%C3%A9-es-una-integraci%C3%B3n-contin%C3%BAa-" aria-hidden="true"><span class="icon icon-link"></span></a>¿Qué es una integración continúa? 🚀</h2>
<p>En el párrafo anterior ya podemos atisbar la respuesta a esta pregunta que nos hacemos. Una definición de integración continua, que en particular a mi me gusta mucho, es la que nos daba Martin Fowler: "<em>Continuous Integration is a software development practice where members of a team integrate their work frequently, usually each person integrates at least daily - leading to multiple integrations per day. Each integration is verified by an automated build (including test) to detect integration errors as quickly as possible.</em>", que en español viene a decir algo así como que la integración continua es una práctica donde los miembros de un equipo validan la integración de sus aportaciones individuales mediante la construcción automática, incluida la ejecución de los tests, de manera que podamos detectar problemas de integración lo más pronto posible. Es obvio, que disponer de un sistema de integración continua en nuestros proyectos puede aportarnos grandes ventajas destacando entre ellas la detección temprana de errores así como el evitar realizar integraciones de gran tamaño consiguiendo a su vez disponer de una versión actualizada de nuestro sistema.</p>
<p>Para que la integración continua funcione de manera adecuada, los desarrolladores debemos integrar nuestros cambios idealmente varias veces al día para, mediante pequeños pasos, ir acercándonos al objetivo final pudiendo tener una mayor flexibilidad ante posibles cambios.</p>
<h2 id="¿qué-es-github-actions-"><a href="#%C2%BFqu%C3%A9-es-github-actions-" aria-hidden="true"><span class="icon icon-link"></span></a>¿Qué es Github Actions? ☁</h2>
<p>Github Actions es un sistema que tiene como principal objetivo automatizar tareas relacionados con el ciclo de vida del desarrollo de un software. Tiene como principal virtud la capacidad de automatizar, personalizar y ejecutar pipelines de tareas (denominados workflows) directamente en tu repositorio de Github. La ejecución de estas tareas se realizan después de que un evento concreto haya ocurrido. Los eventos disparadores del workflow son eventos relacionados con el repositorio, como pueden ser una pull-request, push, merge, etc. La <a href="https://docs.github.com/es/free-pro-team@latest/actions/reference/events-that-trigger-workflows" target="_blank" rel="nofollow noopener noreferrer">lista completa de eventos</a> puede ser observada en la documentación de Github Actions. Además, permite combinar diferentes acciones dentro de un mismo workflow para la ejecución de las diferentes tareas, así como ofrece también la posibilidad de tener varios workflows en un mismo repositorio.  Finalmente, cabe destacar que dispone de un <a href="https://github.com/marketplace?type=actions" target="_blank" rel="nofollow noopener noreferrer">marketplace de acciones</a> creadas por otros desarrolladores.</p>
<h2 id="pasos-necesarios-para-ejecutar-los-test-en-android-🧪"><a href="#pasos-necesarios-para-ejecutar-los-test-en-android-%F0%9F%A7%AA" aria-hidden="true"><span class="icon icon-link"></span></a>Pasos necesarios para ejecutar los test en Android 🧪</h2>
<p>Para compilar un proyecto Android y generar el APK de la aplicación, es necesario tener instalado el SDK de Android correspondiente a la version definida en el propio proyecto Android que estamos desarrollando. Para realizar esto en el sistema de integración continua utilizando Github Actions, una opción podría ser el crear una imagen de docker que contenga todo lo necesario para realizar este proceso. En el caso que nos atañe, las imágenes de Ubuntu disponibles en Github Actions ya tienen gran cantidad de software preinstalado, entre el que se encuentra el SDK de Android en todas su versiones, por lo que no necesitaríamos crear una imagen con docker. La lista completa de software instalado en la última versión de Ubuntu disponible en Github Actions puede verse <a href="https://github.com/actions/virtual-environments/blob/main/images/linux/Ubuntu2004-README.md" target="_blank" rel="nofollow noopener noreferrer">aquí</a>.</p>
<p>Una vez hecha la build del proyecto simplemente necesitaríamos ejecutar los test utilizando gradle, <code>gradlew testDebugUnitTest</code>.</p>
<h2 id="ejemplo-de-workflow-de-ci-🤯"><a href="#ejemplo-de-workflow-de-ci-%F0%9F%A4%AF" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplo de workflow de CI 🤯</h2>
<p>Para crear nuestro workflow de Github Actions basta con crear un directorio <code>workflows</code> dentro<code>.Github</code>  de nuestro proyecto y crear ahí nuestro fichero con extensión <code>.yml</code>, en nuestro caso <code>ci.yml</code>. Cuando hagamos <code>push</code> de este fichero, Github detectará todo lo que esté dentro de la carpeta <code>workflows</code> como <code>workflows</code> de Github Actions.</p>
<p>A continuación, podemos observar un ejemplo de workflow de integración continua de un proyecto Android real.</p>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #F07178">name</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">Android CI workflow</span>

<span style="color: #F78C6C">on</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">[</span><span style="color: #C3E88D">push</span><span style="color: #89DDFF">]</span>

<span style="color: #F07178">jobs</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># jobs a ejecutar</span>
<span style="color: #FFFFFF">  </span><span style="color: #F07178">build</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># nombre del job a ejecutar</span>
<span style="color: #FFFFFF">    </span><span style="color: #F07178">runs-on</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">ubuntu-latest</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># sistema operativo donde ejecutaremos el job</span>

<span style="color: #FFFFFF">    </span><span style="color: #F07178">steps</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># pasos del workflow</span>
<span style="color: #FFFFFF">      </span><span style="color: #89DDFF">- </span><span style="color: #F07178">uses</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">actions/checkout@v2</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># checkout del proyecto</span>

<span style="color: #FFFFFF">      </span><span style="color: #89DDFF">- </span><span style="color: #F07178">name</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">Decode google-services.json</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># tarea para decodificar los google services</span>
<span style="color: #FFFFFF">        </span><span style="color: #F07178">env</span><span style="color: #89DDFF">:</span>
<span style="color: #FFFFFF">          </span><span style="color: #F07178">GOOGLE_SERVICE_SECRET</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">${{ secrets.GOOGLE_SERVICE }}</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># almacenamos secret en   variable de entorno</span>
<span style="color: #FFFFFF">        </span><span style="color: #F07178">run</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">echo $GOOGLE_SERVICE_SECRET &gt; ./app/google-services.json</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># creamos el fichero google-services.json en la ruta correspondiente</span>

<span style="color: #FFFFFF">      </span><span style="color: #89DDFF">- </span><span style="color: #F07178">name</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">Make gradlew executable</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># damos permisos de ejecución al fichero gradlew</span>
<span style="color: #FFFFFF">        </span><span style="color: #F07178">run</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">chmod +x ./gradlew</span>

<span style="color: #FFFFFF">      </span><span style="color: #89DDFF">- </span><span style="color: #F07178">name</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">Build Android project</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># compilamos el proyecto</span>
<span style="color: #FFFFFF">        </span><span style="color: #F07178">run</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">./gradlew assembleDebug</span>

<span style="color: #FFFFFF">      </span><span style="color: #89DDFF">- </span><span style="color: #F07178">name</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">Launch unit tests</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># lanzamos los tests</span>
<span style="color: #FFFFFF">        </span><span style="color: #F07178">run</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">./gradlew testDebugUnitTest</span>

<span style="color: #FFFFFF">      </span><span style="color: #89DDFF">- </span><span style="color: #F07178">name</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">Android Test Report</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># visualizamos el resultado de los tests</span>
<span style="color: #FFFFFF">        </span><span style="color: #F07178">uses</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">asadmansr/android-test-report-action@v1.2.0</span></code></pre>
<p>Destacar que este workflow se ejecutará cada vez que se haga push a la rama master del repositorio del proyecto, como puede verse en la clave <code>on</code> en el snippet de código anterior.</p>
<p>Por otro lado, este proyecto hace uso de diferentes servicios de Google como Firebase, y por tanto las claves necesarias para comunicarnos con dichos servicios son necesarias para compilar el proyecto y generar el ejecutable. No es una buena práctica subir dichas claves a los repositorios ya que cualquier persona que tenga acceso al mismo podría acceder a ellas. Github provee un servicio llamado secrets el cual nos permite almacenar claves y otro tipo de contenido sensible de manera segura. En nuestro caso guardamos el contenido del fichero google-services.json en Github secrets y posteriormente en la tarea <code>Decode google-services.json</code> lo almacenamos en una variable de entorno para posteriormente almacenarla en su fichero correspondiente para usarlo en la compilación del proyecto pero sin persistirlo luego en nuestro repositorio.</p>
<p>El siguiente paso consiste en dar permisos de ejecución al fichero <code>gradlew</code> para compilar el proyecto y luego lanzar los tests del mismo.</p>
<p>Finalmente, debido a que gradlew genera un fichero de reporte con el resultado de los tests, debemos visualizar el contenido de los mismos parseando el fichero de reporte generado. En este paso, haciendo uso del marketplace encontramos la acción <code>android-test-report-action</code> que se encarga de parsear y mostrarnos el resultado del reporte y que es la utilizada en el último paso del workflow.</p>
<p>Finalmente, una vez hemos hecho push de nuestro fichero podemos ver las diferentes ejecuciones de nuestro workflow en la sección Actions de en nuestro repositorio de Github como podemos observar en la imagen que se muestra a continuación.</p>
<p><img src="images/GHActionsTab.png" alt="Github Actions Web"></p>
<h2 id="extra-notificación-de-fallo-del-workflow-vía-slack-"><a href="#extra-notificaci%C3%B3n-de-fallo-del-workflow-v%C3%ADa-slack-" aria-hidden="true"><span class="icon icon-link"></span></a>Extra: notificación de fallo del workflow vía Slack ✉</h2>
<p>Un aspecto importante en un sistema de integración continua la capacidad de conocer el estado del mismo en todo momento. El hecho de disponer de un sistema capaz de notificar frente a un fallo en la integración continua es una feature de bastante importancia en este tipo de sistemas. Para este cometido, en el proyecto anteriormente comentado se ha implementado un nuevo workflow capaz de escuchar cuando el workflow de integración continua falla y enviar una notificación a un canal de slack en concreto.</p>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #F07178">name</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">Slack Notifier</span>

<span style="color: #F78C6C">on</span><span style="color: #89DDFF">:</span>
<span style="color: #FFFFFF">  </span><span style="color: #F07178">workflow_run</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># trigger utilizado</span>
<span style="color: #FFFFFF">    </span><span style="color: #F07178">workflows</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">Android CI workflow</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">]</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># nombre del workflow a escuchar</span>
<span style="color: #FFFFFF">    </span><span style="color: #F07178">branches</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">[</span><span style="color: #C3E88D">master</span><span style="color: #89DDFF">]</span>
<span style="color: #FFFFFF">    </span><span style="color: #F07178">types</span><span style="color: #89DDFF">:</span>
<span style="color: #FFFFFF">      </span><span style="color: #89DDFF">- </span><span style="color: #C3E88D">completed</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># escuchar cuando el workflow ha terminado de ejecutarse</span>

<span style="color: #F07178">jobs</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># jobs a ejecutar</span>
<span style="color: #FFFFFF">  </span><span style="color: #F07178">slackNotification</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># nombre del job a ejecutar</span>
<span style="color: #FFFFFF">    </span><span style="color: #F07178">runs-on</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">ubuntu-latest</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># sistema operativo donde ejecutaremos el job</span>

<span style="color: #FFFFFF">    </span><span style="color: #F07178">steps</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># pasos del workflow</span>
<span style="color: #FFFFFF">      </span><span style="color: #89DDFF">- </span><span style="color: #F07178">name</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">Slack Notification</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># notificación al canal general </span>
<span style="color: #FFFFFF">        </span><span style="color: #F07178">uses</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">rtCamp/action-slack-notify@v2</span>
<span style="color: #FFFFFF">        </span><span style="color: #F07178">env</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #676E95">#variables de entorno relacionadas con el mensaje de slack a enviar</span>
<span style="color: #FFFFFF">          </span><span style="color: #F07178">SLACK_CHANNEL</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">general</span>
<span style="color: #FFFFFF">          </span><span style="color: #F07178">SLACK_COLOR</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">#3278BD</span><span style="color: #89DDFF">'</span>
<span style="color: #FFFFFF">          </span><span style="color: #F07178">SLACK_USERNAME</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">WoL Assistant Bot</span><span style="color: #89DDFF">"</span>
<span style="color: #FFFFFF">          </span><span style="color: #F07178">SLACK_MESSAGE</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">Continuous Integration Broken</span><span style="color: #89DDFF">"</span>
<span style="color: #FFFFFF">          </span><span style="color: #F07178">SLACK_WEBHOOK</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">${{ secrets.SLACK_WEBHOOK }}</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># webhook del canal del slack al que enviar</span>
<span style="color: #FFFFFF">        </span><span style="color: #F07178">if</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #C3E88D">env.WORKFLOW_CONCLUSION == 'failure'</span><span style="color: #FFFFFF"> </span><span style="color: #676E95"># condición para enviar mensaje solo en casos de que el workflow de CI falle</span></code></pre>
<p>En este workflow se ha utilizado la Github Action <code>action-slack-notify</code> que nos permite enviar un mensaje a un canal de slack a través del uso de diferentes parámetros. Destacar de nuevo, el uso de Github secrets para almacenar el valor del webhook ya que es nuevamente información sensible.</p>
<h2 id="referencias"><a href="#referencias" aria-hidden="true"><span class="icon icon-link"></span></a>Referencias</h2>
<p><a href="https://docs.github.com/es/free-pro-team@latest/actions" target="_blank" rel="nofollow noopener noreferrer">Documentación oficial de Github Actions</a></p>
<p><a href="https://github.com/marketplace?type=actions" target="_blank" rel="nofollow noopener noreferrer">Marketplace de Github Actions</a></p>
<p><a href="https://www.martinfowler.com/articles/continuousIntegration.html" target="_blank" rel="nofollow noopener noreferrer">Post sobre integración continua de Martin Fowler</a></p>
</div><div class="mb-8"><a href="/blog" class="font-bold uppercase">Back to Blog</a></div></div></main><footer class="bg-green-700 text-white"><div class="container mx-auto flex flex-col lg:flex-row items-center justify-between py-8"><div class="mb-8 lg:mb-0"><div>Copyright 2020. All rights reserved.</div><div><a href="/rss.xml" class="text-white hover:text-gray-400 font-normal">RSS Feed</a> |
          <a href="/sitemap.xml" class="text-white hover:text-gray-400 font-normal">Sitemap</a></div></div><ul class="flex items-center space-x-8"><li><a href="mailto:ivansantosgonz@gmail.com" class="text-white hover:text-gray-400"><svg width="25" height="20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 0h20A2.5 2.5 0 0 1 25 2.5v15a2.5 2.5 0 0 1-2.5 2.5h-20A2.5 2.5 0 0 1 0 17.5v-15C0 1.125 1.125 0 2.5 0zm20 4.225V2.5h-20v1.725l10 5 10-5zm0 2.8l-9.438 4.713a1.25 1.25 0 0 1-1.124 0L2.5 7.025V17.5h20V7.025z" fill-rule="nonzero"></path></svg></a></li><li><a href="https://github.com/IvanSantosGonz" target="_blank" class="text-white hover:text-gray-400"><svg width="20" height="19" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M10 0c1.814 0 3.487.435 5.02 1.306a9.827 9.827 0 0 1 3.639 3.542A9.33 9.33 0 0 1 20 9.734c0 2.121-.636 4.03-1.908 5.723a9.783 9.783 0 0 1-4.928 3.518c-.234.042-.408.012-.52-.09a.49.49 0 0 1-.17-.38l.006-.969c.005-.621.007-1.19.007-1.705 0-.82-.226-1.42-.677-1.8.495-.05.94-.126 1.335-.228a5.4 5.4 0 0 0 1.223-.494 3.62 3.62 0 0 0 1.055-.843c.282-.334.512-.777.69-1.33.178-.554.267-1.19.267-1.909a3.7 3.7 0 0 0-1.028-2.61c.32-.77.286-1.631-.105-2.586-.243-.076-.594-.03-1.054.14-.46.168-.86.354-1.198.557l-.495.304a9.478 9.478 0 0 0-2.5-.33c-.86 0-1.693.11-2.5.33a11.6 11.6 0 0 0-.553-.342c-.23-.135-.593-.298-1.088-.488-.494-.19-.863-.247-1.106-.171-.391.955-.426 1.816-.105 2.585A3.7 3.7 0 0 0 3.62 9.227c0 .719.089 1.352.267 1.902.178.549.406.993.683 1.33.278.339.627.622 1.048.85a5.4 5.4 0 0 0 1.224.494c.395.102.84.178 1.335.228-.338.305-.551.74-.638 1.306a2.631 2.631 0 0 1-.586.19 3.782 3.782 0 0 1-.742.063c-.287 0-.57-.09-.853-.272a2.256 2.256 0 0 1-.723-.792 2.068 2.068 0 0 0-.631-.66c-.256-.168-.471-.27-.645-.304l-.26-.038c-.182 0-.308.02-.378.057-.07.038-.09.087-.065.146.026.06.065.118.117.178.053.059.109.11.17.152l.09.063c.192.085.38.245.567.482.187.236.324.452.41.646l.13.292c.113.32.304.58.574.78.269.198.56.325.872.38.312.054.614.084.905.088.29.004.532-.01.723-.044l.299-.05c0 .32.002.694.007 1.12l.006.692a.49.49 0 0 1-.17.38c-.112.101-.286.13-.52.089a9.783 9.783 0 0 1-4.928-3.518C.636 13.763 0 11.855 0 9.734a9.33 9.33 0 0 1 1.341-4.886 9.827 9.827 0 0 1 3.64-3.542C6.512.436 8.185 0 10 0zM3.79 13.98c.025-.058-.005-.11-.092-.151-.087-.026-.143-.017-.17.025-.025.06.005.11.092.152.078.05.134.042.17-.025zm.403.432c.06-.043.052-.11-.026-.203-.087-.076-.157-.089-.209-.038-.06.042-.052.11.026.203.087.084.157.097.209.038zm.39.57c.078-.06.078-.14 0-.24-.07-.11-.143-.136-.221-.077-.078.042-.078.118 0 .228.078.11.152.14.221.089zm.547.532c.07-.067.052-.148-.052-.24-.104-.102-.19-.115-.26-.039-.078.068-.061.148.052.241.104.102.19.114.26.038zm.742.317c.026-.093-.03-.16-.169-.203-.13-.033-.213-.004-.247.09-.035.092.021.155.169.19.13.05.213.025.247-.077zm.82.064c0-.11-.073-.157-.22-.14-.14 0-.209.047-.209.14 0 .11.074.156.221.139.14 0 .209-.046.209-.14zm.756-.127c-.017-.093-.096-.131-.234-.114-.14.025-.2.088-.183.19.018.101.096.135.235.101.139-.034.2-.093.182-.177z" fill-rule="nonzero"></path></svg></a></li><li><a href="https://twitter.com/SantosIvn" target="_blank" class="text-white hover:text-gray-400"><svg width="20" height="17" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M19.807 1.943a8.588 8.588 0 0 1-2.036 2.135 11.918 11.918 0 0 1-.465 3.854 12.085 12.085 0 0 1-1.452 3.177 12.426 12.426 0 0 1-2.318 2.691c-.897.78-1.978 1.402-3.243 1.867-1.265.464-2.618.697-4.06.697-2.27 0-4.348-.618-6.233-1.854.293.034.62.051.98.051 1.885 0 3.565-.588 5.04-1.764a3.915 3.915 0 0 1-2.363-.825 4.038 4.038 0 0 1-1.432-2.039c.276.043.532.064.766.064.36 0 .717-.047 1.068-.14A3.982 3.982 0 0 1 1.73 8.43c-.617-.754-.925-1.63-.925-2.627v-.051c.57.324 1.182.498 1.835.524a4.1 4.1 0 0 1-1.32-1.47 4.078 4.078 0 0 1-.49-1.969c0-.75.185-1.445.553-2.084a11.548 11.548 0 0 0 3.702 3.05 11.163 11.163 0 0 0 4.669 1.271c-.067-.324-.1-.639-.1-.946 0-1.142.395-2.116 1.187-2.92C11.632.402 12.589 0 13.712 0c1.173 0 2.161.435 2.966 1.304a7.878 7.878 0 0 0 2.576-.997 3.997 3.997 0 0 1-1.785 2.275 7.98 7.98 0 0 0 2.338-.639z" fill-rule="nonzero"></path></svg></a></li></ul></div></footer><div style="display:none"><svg id="dots-triangle" width="170" height="170" xmlns="http://www.w3.org/2000/svg"><path d="M168.152 170a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478 0a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm-18.479 0a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zM94.24 133.043a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478 36.956a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478 55.434a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm-18.479 73.913a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm-18.478 92.391a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zM1.848 133.044a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.695zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696z" fill="#2C8056" fill-rule="evenodd" opacity=".503"></path></svg></div></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Integración Continua en Proyectos Android Nativo con Github Actions","date":"December 4, 2020","content":"\u003Ch1 id=\"integración-continúa-en-proyectos-android-nativo-con-github-actions\"\u003E\u003Ca href=\"#integraci%C3%B3n-contin%C3%BAa-en-proyectos-android-nativo-con-github-actions\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EIntegración Continúa en Proyectos Android Nativo con Github Actions\u003C\u002Fh1\u003E\n\u003Cp\u003ELa integración continua en los diferentes proyectos que abordamos en el día a día es cada vez mas importante, más si cabe, teniendo en cuenta que en la mayoría de los casos trabajamos en equipo. Debido a esto, tener un sistema que nos permita construir nuestro software y pasar los test de manera automática frente a cada cambio puede ser de vital importancia.\u003C\u002Fp\u003E\n\u003Ch2 id=\"¿qué-es-una-integración-continúa-\"\u003E\u003Ca href=\"#%C2%BFqu%C3%A9-es-una-integraci%C3%B3n-contin%C3%BAa-\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E¿Qué es una integración continúa? 🚀\u003C\u002Fh2\u003E\n\u003Cp\u003EEn el párrafo anterior ya podemos atisbar la respuesta a esta pregunta que nos hacemos. Una definición de integración continua, que en particular a mi me gusta mucho, es la que nos daba Martin Fowler: \"\u003Cem\u003EContinuous Integration is a software development practice where members of a team integrate their work frequently, usually each person integrates at least daily - leading to multiple integrations per day. Each integration is verified by an automated build (including test) to detect integration errors as quickly as possible.\u003C\u002Fem\u003E\", que en español viene a decir algo así como que la integración continua es una práctica donde los miembros de un equipo validan la integración de sus aportaciones individuales mediante la construcción automática, incluida la ejecución de los tests, de manera que podamos detectar problemas de integración lo más pronto posible. Es obvio, que disponer de un sistema de integración continua en nuestros proyectos puede aportarnos grandes ventajas destacando entre ellas la detección temprana de errores así como el evitar realizar integraciones de gran tamaño consiguiendo a su vez disponer de una versión actualizada de nuestro sistema.\u003C\u002Fp\u003E\n\u003Cp\u003EPara que la integración continua funcione de manera adecuada, los desarrolladores debemos integrar nuestros cambios idealmente varias veces al día para, mediante pequeños pasos, ir acercándonos al objetivo final pudiendo tener una mayor flexibilidad ante posibles cambios.\u003C\u002Fp\u003E\n\u003Ch2 id=\"¿qué-es-github-actions-\"\u003E\u003Ca href=\"#%C2%BFqu%C3%A9-es-github-actions-\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E¿Qué es Github Actions? ☁\u003C\u002Fh2\u003E\n\u003Cp\u003EGithub Actions es un sistema que tiene como principal objetivo automatizar tareas relacionados con el ciclo de vida del desarrollo de un software. Tiene como principal virtud la capacidad de automatizar, personalizar y ejecutar pipelines de tareas (denominados workflows) directamente en tu repositorio de Github. La ejecución de estas tareas se realizan después de que un evento concreto haya ocurrido. Los eventos disparadores del workflow son eventos relacionados con el repositorio, como pueden ser una pull-request, push, merge, etc. La \u003Ca href=\"https:\u002F\u002Fdocs.github.com\u002Fes\u002Ffree-pro-team@latest\u002Factions\u002Freference\u002Fevents-that-trigger-workflows\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Elista completa de eventos\u003C\u002Fa\u003E puede ser observada en la documentación de Github Actions. Además, permite combinar diferentes acciones dentro de un mismo workflow para la ejecución de las diferentes tareas, así como ofrece también la posibilidad de tener varios workflows en un mismo repositorio.  Finalmente, cabe destacar que dispone de un \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmarketplace?type=actions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Emarketplace de acciones\u003C\u002Fa\u003E creadas por otros desarrolladores.\u003C\u002Fp\u003E\n\u003Ch2 id=\"pasos-necesarios-para-ejecutar-los-test-en-android-🧪\"\u003E\u003Ca href=\"#pasos-necesarios-para-ejecutar-los-test-en-android-%F0%9F%A7%AA\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EPasos necesarios para ejecutar los test en Android 🧪\u003C\u002Fh2\u003E\n\u003Cp\u003EPara compilar un proyecto Android y generar el APK de la aplicación, es necesario tener instalado el SDK de Android correspondiente a la version definida en el propio proyecto Android que estamos desarrollando. Para realizar esto en el sistema de integración continua utilizando Github Actions, una opción podría ser el crear una imagen de docker que contenga todo lo necesario para realizar este proceso. En el caso que nos atañe, las imágenes de Ubuntu disponibles en Github Actions ya tienen gran cantidad de software preinstalado, entre el que se encuentra el SDK de Android en todas su versiones, por lo que no necesitaríamos crear una imagen con docker. La lista completa de software instalado en la última versión de Ubuntu disponible en Github Actions puede verse \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Factions\u002Fvirtual-environments\u002Fblob\u002Fmain\u002Fimages\u002Flinux\u002FUbuntu2004-README.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Eaquí\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EUna vez hecha la build del proyecto simplemente necesitaríamos ejecutar los test utilizando gradle, \u003Ccode\u003Egradlew testDebugUnitTest\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch2 id=\"ejemplo-de-workflow-de-ci-🤯\"\u003E\u003Ca href=\"#ejemplo-de-workflow-de-ci-%F0%9F%A4%AF\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EEjemplo de workflow de CI 🤯\u003C\u002Fh2\u003E\n\u003Cp\u003EPara crear nuestro workflow de Github Actions basta con crear un directorio \u003Ccode\u003Eworkflows\u003C\u002Fcode\u003E dentro\u003Ccode\u003E.Github\u003C\u002Fcode\u003E  de nuestro proyecto y crear ahí nuestro fichero con extensión \u003Ccode\u003E.yml\u003C\u002Fcode\u003E, en nuestro caso \u003Ccode\u003Eci.yml\u003C\u002Fcode\u003E. Cuando hagamos \u003Ccode\u003Epush\u003C\u002Fcode\u003E de este fichero, Github detectará todo lo que esté dentro de la carpeta \u003Ccode\u003Eworkflows\u003C\u002Fcode\u003E como \u003Ccode\u003Eworkflows\u003C\u002Fcode\u003E de Github Actions.\u003C\u002Fp\u003E\n\u003Cp\u003EA continuación, podemos observar un ejemplo de workflow de integración continua de un proyecto Android real.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #F07178\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003EAndroid CI workflow\u003C\u002Fspan\u003E\n\n\u003Cspan style=\"color: #F78C6C\"\u003Eon\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E[\u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003Epush\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E]\u003C\u002Fspan\u003E\n\n\u003Cspan style=\"color: #F07178\"\u003Ejobs\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# jobs a ejecutar\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Ebuild\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# nombre del job a ejecutar\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Eruns-on\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003Eubuntu-latest\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# sistema operativo donde ejecutaremos el job\u003C\u002Fspan\u003E\n\n\u003Cspan style=\"color: #FFFFFF\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Esteps\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# pasos del workflow\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E      \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Euses\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003Eactions\u002Fcheckout@v2\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# checkout del proyecto\u003C\u002Fspan\u003E\n\n\u003Cspan style=\"color: #FFFFFF\"\u003E      \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003EDecode google-services.json\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# tarea para decodificar los google services\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E        \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Eenv\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E          \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003EGOOGLE_SERVICE_SECRET\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003E${{ secrets.GOOGLE_SERVICE }}\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# almacenamos secret en   variable de entorno\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E        \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Erun\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003Eecho $GOOGLE_SERVICE_SECRET &gt; .\u002Fapp\u002Fgoogle-services.json\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# creamos el fichero google-services.json en la ruta correspondiente\u003C\u002Fspan\u003E\n\n\u003Cspan style=\"color: #FFFFFF\"\u003E      \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003EMake gradlew executable\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# damos permisos de ejecución al fichero gradlew\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E        \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Erun\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003Echmod +x .\u002Fgradlew\u003C\u002Fspan\u003E\n\n\u003Cspan style=\"color: #FFFFFF\"\u003E      \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003EBuild Android project\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# compilamos el proyecto\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E        \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Erun\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003E.\u002Fgradlew assembleDebug\u003C\u002Fspan\u003E\n\n\u003Cspan style=\"color: #FFFFFF\"\u003E      \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003ELaunch unit tests\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# lanzamos los tests\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E        \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Erun\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003E.\u002Fgradlew testDebugUnitTest\u003C\u002Fspan\u003E\n\n\u003Cspan style=\"color: #FFFFFF\"\u003E      \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003EAndroid Test Report\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# visualizamos el resultado de los tests\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E        \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Euses\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003Easadmansr\u002Fandroid-test-report-action@v1.2.0\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EDestacar que este workflow se ejecutará cada vez que se haga push a la rama master del repositorio del proyecto, como puede verse en la clave \u003Ccode\u003Eon\u003C\u002Fcode\u003E en el snippet de código anterior.\u003C\u002Fp\u003E\n\u003Cp\u003EPor otro lado, este proyecto hace uso de diferentes servicios de Google como Firebase, y por tanto las claves necesarias para comunicarnos con dichos servicios son necesarias para compilar el proyecto y generar el ejecutable. No es una buena práctica subir dichas claves a los repositorios ya que cualquier persona que tenga acceso al mismo podría acceder a ellas. Github provee un servicio llamado secrets el cual nos permite almacenar claves y otro tipo de contenido sensible de manera segura. En nuestro caso guardamos el contenido del fichero google-services.json en Github secrets y posteriormente en la tarea \u003Ccode\u003EDecode google-services.json\u003C\u002Fcode\u003E lo almacenamos en una variable de entorno para posteriormente almacenarla en su fichero correspondiente para usarlo en la compilación del proyecto pero sin persistirlo luego en nuestro repositorio.\u003C\u002Fp\u003E\n\u003Cp\u003EEl siguiente paso consiste en dar permisos de ejecución al fichero \u003Ccode\u003Egradlew\u003C\u002Fcode\u003E para compilar el proyecto y luego lanzar los tests del mismo.\u003C\u002Fp\u003E\n\u003Cp\u003EFinalmente, debido a que gradlew genera un fichero de reporte con el resultado de los tests, debemos visualizar el contenido de los mismos parseando el fichero de reporte generado. En este paso, haciendo uso del marketplace encontramos la acción \u003Ccode\u003Eandroid-test-report-action\u003C\u002Fcode\u003E que se encarga de parsear y mostrarnos el resultado del reporte y que es la utilizada en el último paso del workflow.\u003C\u002Fp\u003E\n\u003Cp\u003EFinalmente, una vez hemos hecho push de nuestro fichero podemos ver las diferentes ejecuciones de nuestro workflow en la sección Actions de en nuestro repositorio de Github como podemos observar en la imagen que se muestra a continuación.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"images\u002FGHActionsTab.png\" alt=\"Github Actions Web\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"extra-notificación-de-fallo-del-workflow-vía-slack-\"\u003E\u003Ca href=\"#extra-notificaci%C3%B3n-de-fallo-del-workflow-v%C3%ADa-slack-\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EExtra: notificación de fallo del workflow vía Slack ✉\u003C\u002Fh2\u003E\n\u003Cp\u003EUn aspecto importante en un sistema de integración continua la capacidad de conocer el estado del mismo en todo momento. El hecho de disponer de un sistema capaz de notificar frente a un fallo en la integración continua es una feature de bastante importancia en este tipo de sistemas. Para este cometido, en el proyecto anteriormente comentado se ha implementado un nuevo workflow capaz de escuchar cuando el workflow de integración continua falla y enviar una notificación a un canal de slack en concreto.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #F07178\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003ESlack Notifier\u003C\u002Fspan\u003E\n\n\u003Cspan style=\"color: #F78C6C\"\u003Eon\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Eworkflow_run\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# trigger utilizado\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Eworkflows\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E[\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003EAndroid CI workflow\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# nombre del workflow a escuchar\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Ebranches\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E[\u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003Emaster\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E]\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Etypes\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E      \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003Ecompleted\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# escuchar cuando el workflow ha terminado de ejecutarse\u003C\u002Fspan\u003E\n\n\u003Cspan style=\"color: #F07178\"\u003Ejobs\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# jobs a ejecutar\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003EslackNotification\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# nombre del job a ejecutar\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Eruns-on\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003Eubuntu-latest\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# sistema operativo donde ejecutaremos el job\u003C\u002Fspan\u003E\n\n\u003Cspan style=\"color: #FFFFFF\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Esteps\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# pasos del workflow\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E      \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003ESlack Notification\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# notificación al canal general \u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E        \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Euses\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003ErtCamp\u002Faction-slack-notify@v2\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E        \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Eenv\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E#variables de entorno relacionadas con el mensaje de slack a enviar\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E          \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003ESLACK_CHANNEL\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003Egeneral\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E          \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003ESLACK_COLOR\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E'\u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003E#3278BD\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E'\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E          \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003ESLACK_USERNAME\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003EWoL Assistant Bot\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E          \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003ESLACK_MESSAGE\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003EContinuous Integration Broken\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E          \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003ESLACK_WEBHOOK\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003E${{ secrets.SLACK_WEBHOOK }}\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# webhook del canal del slack al que enviar\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E        \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Eif\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003Eenv.WORKFLOW_CONCLUSION == 'failure'\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #676E95\"\u003E# condición para enviar mensaje solo en casos de que el workflow de CI falle\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EEn este workflow se ha utilizado la Github Action \u003Ccode\u003Eaction-slack-notify\u003C\u002Fcode\u003E que nos permite enviar un mensaje a un canal de slack a través del uso de diferentes parámetros. Destacar de nuevo, el uso de Github secrets para almacenar el valor del webhook ya que es nuevamente información sensible.\u003C\u002Fp\u003E\n\u003Ch2 id=\"referencias\"\u003E\u003Ca href=\"#referencias\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EReferencias\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fdocs.github.com\u002Fes\u002Ffree-pro-team@latest\u002Factions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EDocumentación oficial de Github Actions\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmarketplace?type=actions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EMarketplace de Github Actions\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.martinfowler.com\u002Farticles\u002FcontinuousIntegration.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EPost sobre integración continua de Martin Fowler\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n","tags":[{"title":"Continuous Integration","path":"\u002Ftag\u002FContinuous%20Integration\u002F"},{"title":"Github Actions","path":"\u002Ftag\u002FGithub%20Actions\u002F"},{"title":"CI","path":"\u002Ftag\u002FCI\u002F"}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.484a90d4.js" defer></script><script src="/assets/js/page--src--templates--post-vue.4dce4f95.js" defer></script>
  </body>
</html>
